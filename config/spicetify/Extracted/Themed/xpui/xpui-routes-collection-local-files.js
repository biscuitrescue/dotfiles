"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{40771:(e,t,l)=>{l.d(t,{Z:()=>s});var r=l(67892),i=l(85893);const s=({href:e,children:t,...l})=>(0,i.jsx)(r.Z,{to:e,...l,children:t})},30731:(e,t,l)=>{l.d(t,{u:()=>S});var r=l(67294),i=l(94184),s=l.n(i),n=l(32667),a=l(34011),o=l(6330),d=l(40771);const c="FvfvGU3jvHRskUU9v9_8",u="Q9AlbZn2EGzy3MTWXa8X",x="mxmxS0y8LiwSs5nueKPT",m="GXxVAveNFStY3pBI_NO4",g="eHcXC2s97InYP7rMNT0H";var h=l(85893);const S=(0,r.memo)((function(e){const{children:t,message:l,title:r,linkTitle:i,linkTo:S,onClick:k,renderInline:C=!1}=e,{isXSOnly:A,isSMOnly:j}=(0,o.e)(),D=A||j;return(0,h.jsxs)("section",{className:s()(c,{[u]:C}),children:[t,(0,h.jsx)(n.D,{as:"h1",variant:D?"cello":"alto",className:m,children:r}),(0,h.jsx)(n.D,{variant:D?"mesto":"ballad",className:g,children:l}),i&&(S||k)&&(0,h.jsx)(a.D,{colorSet:"invertedLight",className:x,href:S,onClick:k,component:d.Z,children:i})]})}))},35213:(e,t,l)=>{l.d(t,{l:()=>S});var r=l(67294),i=l(96206),s=l(76119),n=l(78462),a=l(73785);const o={"custom-order":n.HI,title:{column:a.Q.TITLE,order:a.k.ASC},artist:{column:a.Q.TITLE,order:a.k.SECONDARY_ASC},"added-by":{column:a.Q.ADDED_BY,order:a.k.ASC},"added-at":{column:a.Q.ADDED_AT,order:a.k.ASC},duration:{column:a.Q.DURATION,order:a.k.ASC},album:{column:a.Q.ALBUM,order:a.k.ASC},"album-or-podcast":{column:a.Q.ALBUM_OR_PODCAST,order:a.k.ASC},"album-or-show":{column:a.Q.ALBUM_OR_SHOW,order:a.k.ASC}},d={title:a.Q.TITLE,artist:a.Q.TITLE,"added-by":a.Q.ADDED_BY,"added-at":a.Q.ADDED_AT,duration:a.Q.DURATION,album:a.Q.ALBUM,"album-or-podcast":a.Q.ALBUM_OR_PODCAST,"album-or-show":a.Q.ALBUM_OR_SHOW},c={[a.k.NONE]:a.k.NONE,[a.k.ASC]:a.k.DESC,[a.k.DESC]:a.k.ASC,[a.k.SECONDARY_ASC]:a.k.SECONDARY_DESC,[a.k.SECONDARY_DESC]:a.k.SECONDARY_ASC},u={[a.Q.INDEX]:{key:"custom-order",get value(){return i.ag.get("sort.custom-order")}},[a.Q.TITLE]:{key:"title",get value(){return i.ag.get("sort.title")}},[a.Q.ARTIST]:{key:"artist",get value(){return i.ag.get("sort.artist")}},[a.Q.ADDED_BY]:{key:"added-by",get value(){return i.ag.get("sort.added-by")}},[a.Q.ADDED_AT]:{key:"added-at",get value(){return i.ag.get("sort.date-added")}},[a.Q.DURATION]:{key:"duration",get value(){return i.ag.get("sort.duration")}},[a.Q.EVENT_DATE]:null,[a.Q.ALBUM]:{key:"album",get value(){return i.ag.get("sort.album")}},[a.Q.ALBUM_OR_PODCAST]:{key:"album-or-podcast",get value(){return i.ag.get("sort.album-or-podcast")}},[a.Q.ALBUM_OR_SHOW]:{key:"album-or-show",get value(){return i.ag.get("sort.album-or-show")}},[a.Q.PLAYS]:null,[a.Q.RELEASE_DATE]:null,[a.Q.ADD]:null,[a.Q.ACTIONS]:null};var x=l(13153),m=l(1838),g=l(85893);function h(e){return!!e}const S=({columns:e,disabled:t,onSort:l})=>{const S=[...e];S.splice(2,0,x.QD.ARTIST);const{sortState:k,setSortState:C}=(0,r.useContext)(n.Gb),A=function(e){return null===e.column?u[x.QD.INDEX]:(0,m.cB)(e.column,e.order)?u[x.QD.ARTIST]:u[e.column]}(k),j=(0,r.useCallback)((e=>{l?.(),C(((e,t,l)=>e?t!==d[e]||"artist"===e&&[a.k.ASC,a.k.DESC].includes(l)||"title"===e&&[a.k.SECONDARY_ASC,a.k.SECONDARY_DESC].includes(l)?o[e]:{column:d[e],order:c[l]}:n.HI)(e,k.column,k.order))}),[l,C,k.column,k.order]),D=(0,r.useCallback)((()=>null!==k.column),[k.column]),p=S.map((e=>u[e])).filter(h);return(0,g.jsx)(s.A,{options:p,onSelect:j,selected:A,isSelectionChanged:D,sortOrder:k.order,heading:i.ag.get("drop_down.sort_by"),disabled:t})}},76119:(e,t,l)=>{l.d(t,{A:()=>k});var r=l(34142),i=l(47921),s=l(32667),n=l(20246),a=l(71379),o=l(78267),d=l(30005),c=l(36652),u=l(21691),x=l(13153),m=l(85893);const g=({heading:e,selected:t,onSelect:l,options:r,sortOrder:i})=>{let s;i&&(i===x.kn.ASC||i===x.kn.SECONDARY_ASC?s=a.C:i!==x.kn.DESC&&i!==x.kn.SECONDARY_DESC||(s=o.B));return(0,m.jsxs)(d.v,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[e?(0,m.jsx)(c.F,{children:e}):null,r.map((({key:e,value:r})=>(0,m.jsx)(u.s,{role:"menuitemradio","aria-checked":e===t.key,CheckedIcon:s,onClick:()=>l(e),children:r},e)))]})},h="x-sortBox-sortDropdown";const S=({isOpen:e})=>e?(0,m.jsx)(r.U,{iconSize:16,"aria-hidden":"true"}):(0,m.jsx)(i.i,{iconSize:16,"aria-hidden":"true"}),k=({heading:e,options:t,selected:l,onSelect:r,sortOrder:i,variant:a="mesto",semanticColor:o,disabled:d,onClick:c})=>{const[u]=t;return l||(l=u),(0,m.jsx)(n.y,{menu:(0,m.jsx)(g,{selected:l,options:t,onSelect:r,sortOrder:i,heading:e}),children:(e,t,r)=>(0,m.jsxs)("button",{className:h,onClick:e=>{d||(c?.(e),t(e))},ref:r,type:"button",children:[(0,m.jsx)(s.D,{semanticColor:o,variant:a,children:l.value}),(0,m.jsx)(S,{isOpen:e})]})})}},22566:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var r=l(67294),i=l(73012),s=l(56037),n=l(96206),a=l(18270),o=l(30731),d=l(60289),c=l(59482),u=l(72907),x=l(98562),m=l(6158),g=l(55120),h=l(1838),S=l(35213),k=l(22423),C=l(13153),A=l(78462),j=l(37081),D=l(72131),p=l(66393),y=l(91389),b=l(84242),f=l(18261),v=l(87257),E=l(42922),T=l(84788),O=l(26921),I=l(67062),_=l(21509),Q=l(28550),N=l(82760),R=l(85893);const w=r.memo((function({uri:e,uid:t,name:l,duration_ms:i,artists:s,album:a,is19PlusOnly:o,isExplicit:d,isPlayable:c,index:u,contextUri:x,imgUrl:m,usePlayContextItem:g}){const{filter:h}=(0,r.useContext)(k.fo),{isActive:S,isPlaying:C,triggerPlay:A,togglePlay:j}=g({uid:t,uri:e,index:u}),{badges:D,hasBadges:p}=(0,T.r)({isExplicit:d}),y=s?.map((e=>e.name)).join(n.ag.getSeparator())||"";return(0,R.jsx)(E.ZP,{value:"row",index:u,children:(0,R.jsx)(f._,{menu:(0,R.jsx)(O.N,{uri:e,uid:t,contextUri:x}),children:(0,R.jsxs)(N.c,{uri:e,contextUri:x,isActive:S,index:u,onTriggerPlay:()=>{A()},ariaRowIndex:u+1,isPlayable:c,ageRestricted:o,dragMetadata:{name:l,createdBy:y},children:[(0,R.jsx)(_.Dd,{ariaColIndex:0,children:(0,R.jsx)(_.Du,{uri:e,playAriaLabel:n.ag.get("tracklist.a11y.play",l,y),isPlaying:C,isActive:S,onClick:()=>{j()},children:(0,R.jsx)(_.km,{children:u+1})})}),(0,R.jsxs)(_.vZ,{ariaColIndex:1,children:[(0,R.jsx)(_.lD,{src:m}),(0,R.jsxs)(_.vm,{children:[(0,R.jsx)(_.Wh,{titleText:l,children:(0,R.jsx)(I.o,{searchWords:[h],textToHighlight:l})}),p&&(0,R.jsx)(_.g3,{children:D.explicit?(0,R.jsx)(v.N,{}):null}),(0,R.jsx)(_.K9,{children:s&&(0,R.jsx)(Q.o,{nonInteractive:!0,artists:s,filter:h})})]})]}),(0,R.jsx)(_.UA,{ariaColIndex:2,children:a?.name&&(0,R.jsx)(_.BM,{nonInteractive:!0,uri:a?.uri,name:a?.name,children:(0,R.jsx)(I.o,{searchWords:[h],textToHighlight:a?.name})})}),(0,R.jsxs)(_.mU,{ariaColIndex:3,children:[(0,R.jsx)(_.A$,{duration:i}),(0,R.jsx)(_.Zv,{menu:(0,R.jsx)(O.N,{uri:e,uid:t,contextUri:x}),label:n.ag.get("more.label.track",l,y)})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));var P=l(49961);const U=new Set(A.MI),L=r.memo((function({uri:e,tracks:t,columns:l,sortState:i,handleSort:s,usePlayContextItem:a,tracklistDomRef:o}){const d=(0,r.useRef)(null),c=(0,r.useCallback)(((t,l)=>{const r=(0,P.X)(t.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,R.jsx)(w,{index:l,contextUri:e,uri:t.uri,uid:t.uid,isPlayable:t.isPlayable,duration_ms:t.duration.milliseconds,name:t.name,artists:t.artists,album:t.album,isExplicit:t.isExplicit,is19PlusOnly:t.is19PlusOnly,type:t.type,imgUrl:r?.url||"",usePlayContextItem:a},t.uid)}),[e,a]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(E.ZP,{value:"playlist-tracklist",children:(0,R.jsx)(C.Pv,{ariaLabel:n.ag.get("local-files"),hasHeaderRow:!0,columns:l,sortableColumns:U,sortState:i,onSort:s,renderRow:c,resolveUri:e=>e.uri,resolveUid:e=>e.uid,tracks:t,nrTracks:t.length,limit:100,outerRef:d,outerDomRef:o},e)})})})),M="uCHqQ74vvHOnctGg0X0B",B="feuNq1FTxMbdeOTuFgpA",Y=[C.QD.INDEX,C.QD.TITLE,C.QD.ALBUM,C.QD.DURATION],X=()=>{const{filter:e}=(0,r.useContext)(k.fo),{sortState:t,setSortState:l}=(0,r.useContext)(A.Gb),C=(0,r.useContext)(p.t),f=(0,y.I)(),[v,E]=(0,r.useState)(),T=(0,j.Y)(i.Fzl),O=(0,r.useRef)(null),I=(0,r.useCallback)((e=>{l((0,h.VK)(e,t))}),[t,l]),_=(0,r.useCallback)((async()=>{const l=await C.getTracks((0,h._j)(t),e);E(l)}),[C,t,e]);(0,r.useEffect)((()=>{_()}),[_]);const{isPlaying:Q,togglePlay:N,usePlayContextItem:w}=(0,b.n)({uri:D.b,pages:[{items:(v??[]).map((e=>({...e,provider:null})))}]},{featureIdentifier:"local_files"});return v?e||v.length&&f?(0,R.jsxs)("div",{role:"presentation",className:M,children:[(0,R.jsxs)(d.gF,{backgroundColor:T,children:[(0,R.jsxs)(c.W,{children:[(0,R.jsx)(g.$,{size:"md",onClick:()=>N(),isPlaying:Q,uri:D.b}),(0,R.jsx)(u.i,{text:n.ag.get("local-files")})]}),(0,R.jsxs)(d.sP,{children:[(0,R.jsx)(d.xd,{children:n.ag.get("local-files")}),(0,R.jsx)(d.T0,{children:n.ag.get("local-files.description")})]})]}),(0,R.jsx)(a.o,{backgroundColor:T,children:(0,R.jsxs)(a.F,{children:[(0,R.jsx)(g.$,{size:"lg",onClick:()=>N(),isPlaying:Q,uri:D.b}),(0,R.jsxs)("div",{className:B,children:[(0,R.jsx)(r.Suspense,{fallback:null,children:(0,R.jsx)(x.K,{placeholder:n.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:O})}),(0,R.jsx)(S.l,{columns:A.MI})]})]})}),(0,R.jsx)("div",{className:"contentSpacing",children:(0,R.jsx)(L,{tracks:v,uri:D.b,columns:Y,handleSort:I,sortState:t,usePlayContextItem:w,tracklistDomRef:O})})]}):(0,R.jsx)(o.u,{linkTo:"/preferences",linkTitle:n.ag.get("local-files.empty-button"),message:n.ag.get("local-files.empty-description"),title:n.ag.get("local-files.empty-header"),children:(0,R.jsx)(s.Y,{iconSize:64,"aria-hidden":"true"})}):(0,R.jsx)(m.h,{hasError:!1,errorMessage:n.ag.get("error.request-artist-failure")})},H=()=>(0,R.jsx)(A.kz,{uri:"spotify:internal:local-files",children:(0,R.jsx)(k.hz,{uri:"spotify:internal:local-files",children:(0,R.jsx)(X,{})})})},6330:(e,t,l)=>{l.d(t,{e:()=>m});var r=l(62142);const i="(min-width: 0px)",s="(min-width: 0px) and (max-width: 767px)",n="(min-width: 768px)",a="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",d="(min-width: 1024px) and (max-width: 1279px)",c="(min-width: 1280px)",u="(min-width: 1280px) and (max-width: 1919px)",x="(min-width: 1920px)",m=()=>({isXS:(0,r.a)(i),isXSOnly:(0,r.a)(s),isSM:(0,r.a)(n),isSMOnly:(0,r.a)(a),isMD:(0,r.a)(o),isMDOnly:(0,r.a)(d),isLG:(0,r.a)(c),isLGOnly:(0,r.a)(u),isXL:(0,r.a)(x)})},91389:(e,t,l)=>{l.d(t,{I:()=>i});var r=l(30302);function i(){return(0,r.S)()[0]}}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map