"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7553],{85967:(e,t,a)=>{a.d(t,{u:()=>p});var n=a(59496),i=a(84875),l=a.n(i),s=a(65748),r=a(73549),o=a(61873),c=a(87088);const d="FvfvGU3jvHRskUU9v9_8",u="Q9AlbZn2EGzy3MTWXa8X",m="mxmxS0y8LiwSs5nueKPT",g="GXxVAveNFStY3pBI_NO4",h="eHcXC2s97InYP7rMNT0H";var x=a(4637);const p=(0,n.memo)((function(e){const{children:t,message:a,title:n,linkTitle:i,linkTo:p,onClick:f,renderInline:y=!1}=e,{isXSOnly:k,isSMOnly:j}=(0,o.e)(),D=k||j;return(0,x.jsxs)("section",{className:l()(d,{[u]:y}),children:[t,(0,x.jsx)(s.D,{as:"h1",variant:D?"cello":"alto",className:g,children:n}),(0,x.jsx)(s.D,{variant:D?"mesto":"ballad",className:h,children:a}),i&&(p||f)&&(0,x.jsx)(r.D,{colorSet:"invertedLight",className:m,href:p,onClick:f,component:c.Z,children:i})]})}))},73975:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var n=a(59496),i=a(90641),l=a(92053),s=a(61022),r=a(86763),o=a(58767),c=a(60378),d=a(43234),u=a(24252),m=a(62256),g=a(85967),h=a(37277),x=a(23534),p=a(36145),f=a(12646),y=a(40822),k=a(48349),j=a(75420),D=a(58144),w=a(92548),b=a(19627),S=a(55968),v=a(98908),C=a(7929),F=a(67551),T=a(77741),I=a(36809),E=a(76847),L=a(99811),P=a(48947),O=a(4637);const N=n.memo((({tracklistDomRef:e})=>{const{spec:t,logger:a}=(0,T.fU)(E.createDesktopSearchBarEventFactory,{}),i=(0,n.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().keyStrokeFilter())}),[a,t]),l=(0,n.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().hitClearFilter())}),[a,t]),s=(0,n.useCallback)((()=>{a.logInteraction(t.sortButtonFactory().hitSort())}),[a,t]);return(0,O.jsxs)("div",{className:p.Z.searchBoxContainer,children:[(0,O.jsx)(n.Suspense,{fallback:null,children:(0,O.jsx)(L.K,{placeholder:c.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:e,onFilter:i,onClear:l})}),(0,O.jsx)(P.l,{columns:k.P0,onSort:s})]})}));var A=a(24039),M=a(39866),R=a(35841),U=a(13533),_=a(75387),B=a(72102),Q=a(16078),G=a(18415),X=a(20473),z=a(20870);const H=18e5;const Z=n.lazy((()=>Promise.all([a.e(1814),a.e(5581),a.e(682)]).then(a.bind(a,75581)))),K=[y.QD.INDEX,y.QD.TITLE,y.QD.ALBUM,y.QD.ADDED_AT,y.QD.DURATION],V="your_library",W=({data:e,canFilter:t,canSort:a})=>{const{uri:i,name:o,totalLength:D}=e.metadata,v=(0,n.useRef)(null),E=D>0,L=D>0,P=(0,b.Y5)("#5038a0"),{filter:R}=(0,n.useContext)(f.fo),{sortState:_,setSortState:B}=(0,n.useContext)(k.Gb),{spec:Q,logger:G}=(0,T.fU)(r.createDesktopLikedSongsEventFactory,{data:{uri:i}}),X=n.useMemo((()=>Q.headerFactory()),[Q]),z=n.useMemo((()=>Q.tracklistFactory()),[Q]);(0,n.useEffect)((()=>{null===_.column&&B({column:y.QD.ADDED_AT,order:y.kn.DESC})}),[_,B]);const H=(0,l.ur)(),Z=(0,l.TH)(),W="POP"!==H?new URLSearchParams(Z.search).get("uri"):null,{isPlaying:Y,togglePlay:$,usePlayContextItem:q,isActive:J}=(0,F.n)((0,S.I)(i,(0,I.w)(_),R),{featureIdentifier:V,referrerIdentifier:"your_library"}),ee=()=>{const e=(0,M.aK)({isPlaying:Y,isActive:J,spec:Q.actionBarFactory().playButtonFactory(),logger:G,uri:i});$({loggingParams:e})},te=(0,n.useCallback)(((e,t)=>{const a=Q.actionBarFactory().downloadButtonFactory();t===C.mc.ADD?G.logInteraction(a.hitDownload({itemToDownload:i})):t===C.mc.REMOVE?G.logInteraction(a.hitRemoveDownload({itemToRemoveFromDownloads:i})):t===C.mc.NO_PERMISSION&&G.logInteraction(a.hitUiReveal())}),[G,Q,i]);return(0,O.jsxs)("section",{role:"presentation",className:p.Z.playlist,"data-testid":"playlist-page",children:[(0,O.jsx)(m.$,{children:c.ag.get("playlist.page-title",o)}),(0,O.jsx)(w.s,{metadata:e.metadata,isPlaying:Y,togglePlay:ee,backgroundColor:P,specLikedSongs:X}),(0,O.jsx)(d.o,{backgroundColor:P,children:(0,O.jsxs)(d.F,{children:[L?(0,O.jsx)(x.$,{onClick:ee,isPlaying:Y,size:"lg",uri:i,ariaPauseLabel:c.ag.get("playlist.a11y.pause",o),ariaPlayLabel:c.ag.get("playlist.a11y.play",o)}):null,e.metadata.totalLength>0&&(0,O.jsx)(U.v,{uri:i,renderEnabled:()=>(0,O.jsx)(j.v,{uri:i})}),(0,O.jsx)(u.o,{uri:i,canDownload:E,isFollowing:!0,onFollow:()=>{},size:u.q.md,onClick:te}),t&&a&&(0,O.jsx)(T.Nh,{spec:Q.actionBarFactory(),children:(0,O.jsx)(N,{tracklistDomRef:v})})]})}),(0,O.jsx)("div",{className:"contentSpacing",children:D>0?(0,O.jsx)(n.Suspense,{fallback:(0,O.jsx)(h.h,{hasError:!1,errorMessage:c.ag.get("error.request-collection-tracks-failure")}),children:(0,O.jsx)(T.Nh,{spec:z,children:(0,O.jsx)(A.p,{nrTracks:D,columns:K,collectionUri:i,scrollToUri:W,usePlayContextItem:q,outerDomRef:v,spec:z,initialItems:e.contents.items})})}):(0,O.jsx)(g.u,{message:c.ag.get("collection.empty-page.songs-subtitle"),title:c.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:c.ag.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,O.jsx)(s.F,{"aria-hidden":"true"})})})]})},Y=n.memo((function({user:e,uri:t}){const{filter:a}=(0,n.useContext)(f.fo),{sortState:l}=(0,n.useContext)(k.Gb),s=function(e,t,a){const i=(0,n.useContext)(v.H),l=(0,_.useQueryClient)(),s=(0,B.jP)((()=>["useLikedSongs",e,a]),[e,a]),{data:r}=(0,_.useQuery)(s(),(()=>i.getTracks(a)),{cacheTime:H,keepPreviousData:!0,refetchOnWindowFocus:!1}),o=(0,n.useCallback)((()=>{l.invalidateQueries(s())}),[l,s]);(0,G.b)(Q.EW.UPDATE,o);const c=(0,z.I2)(t.id);return c&&r?{metadata:{uri:e,name:c.name,images:c.images,totalLength:r?.totalLength,unfilteredTotalLength:r.unfilteredTotalLength,owner:(0,X.V)(t)},contents:r}:null}(t,e,{offset:0,limit:25,sort:(0,I.w)(l),filter:a}),r=(0,n.useContext)(v.H).getCapabilities(),o=(0,i.v9)(R.n5),{isEnhanced:d}=(0,D.U)(`spotify:user:${o}:collection`);if(s){const e=(0,O.jsx)(W,{data:s,canFilter:r.canFilterTracksAndEpisodes&&s.metadata.unfilteredTotalLength>0,canSort:r.canSortTracksAndEpisodes&&s.metadata.unfilteredTotalLength>0});return(0,O.jsx)(U.v,{uri:s.metadata.uri,renderEnabled:()=>d?(0,O.jsx)(n.Suspense,{fallback:null,children:(0,O.jsx)(k.kz,{uri:s.metadata.uri,children:(0,O.jsx)(Z,{metadata:{...s.metadata,collaborators:{count:1,items:[{isOwner:!0,user:s.metadata.owner,tracksAdded:s.metadata.totalLength}]}},capabilities:r,featureIdentifier:V})})}):e,renderDisabled:()=>e})}return(0,O.jsx)(h.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.playlist"),loadOffline:r.canModifyOffline})})),$=()=>{const{user:e}=(0,i.v9)(R.Gg);if(null===e)return null;const t=(0,o.wG)(e.id).toURI();return(0,O.jsx)(k.kz,{uri:t,children:(0,O.jsx)(f.hz,{uri:t,children:(0,O.jsx)(Y,{uri:t,user:e})})})}},92548:(e,t,a)=>{a.d(t,{s:()=>n.s});var n=a(15599)},61873:(e,t,a)=>{a.d(t,{e:()=>g});var n=a(80701);const i="(min-width: 0px)",l="(min-width: 0px) and (max-width: 767px)",s="(min-width: 768px)",r="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",d="(min-width: 1280px)",u="(min-width: 1280px) and (max-width: 1919px)",m="(min-width: 1920px)",g=()=>({isXS:(0,n.a)(i),isXSOnly:(0,n.a)(l),isSM:(0,n.a)(s),isSMOnly:(0,n.a)(r),isMD:(0,n.a)(o),isMDOnly:(0,n.a)(c),isLG:(0,n.a)(d),isLGOnly:(0,n.a)(u),isXL:(0,n.a)(m)})}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map