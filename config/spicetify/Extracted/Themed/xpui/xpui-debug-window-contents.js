"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5320],{17964:(e,s,n)=>{n.r(s),n.d(s,{DebugWindowContents:()=>Es});var l=n(67294),t=n(99942),a=n(52744),r=n(69792),i=n(89073),o=n(87194),c=(n(92087),n(17178)),d=n(21270),u=n(22305);const h=(0,d.v)();window.abba={get:async function(e,s){const n=new c.ProductStateClient((0,u.G)()),l=(await n.getValues(c.GetValuesRequest.fromPartial({}))).pairs;let t={},a="";if(l.abbaOverrides?a=l.abbaOverrides:l.abbaoverrides&&(a=l.abbaoverrides),a)try{t=JSON.parse(a)}catch(e){console.error(`error parsing value=${a}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(t,e))return console.warn(`Abba: Override for ${e} : ${t[e]}`),void setTimeout((()=>s(null,t[e])),0);h.post("sp://abba/v1/flags",{flags:[e]}).then((n=>{const{flags:l=[]}=n,t=l[0]&&l[0].featureName===e&&l[0].cell;s(null,t||null)})).catch((e=>{s(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),h.get("sp://abba/v1/all_flags").then((s=>{const{flags:n=[]}=s,l=n.reduce(((e,s)=>(e[s.featureName]=s.cell,e)),{});e(null,JSON.stringify(l,null,2))})).catch((s=>{e(s)}))},getRequestedFlagNames:function(e){h.get("sp://abba/v1/requested_flag_names").then((s=>{e(null,JSON.stringify(s.sort(),null,2))})).catch((s=>{e(s)}))}};var x=n(54125);const j="rh7v8PDNC0ke2OkkyRhk",m="L6pjHHt_x4tfksfQ4Pem",v="H0jIvFjLqNoS1jwvMR82",p="UZcGKrwobJ2tS5Ka06pD";var g=n(85893);const f=()=>{const[e,s]=(0,l.useState)(60),[n,t]=(0,l.useState)("stream"),[a,r]=(0,l.useState)("");return(0,g.jsxs)("div",{className:j,children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Stream time (in seconds)"}),(0,g.jsx)("input",{className:v,type:"text",value:e,onChange:e=>{const n=e.target.value;s(parseInt(n,10))}}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(e)},children:"Add time"}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(1200)},children:"Add 20 minutes"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Override Country"}),(0,g.jsxs)("select",{value:a,onBlur:()=>{},onChange:e=>{r(e.target.value)},children:[(0,g.jsx)("option",{value:"US",children:"USA"}),(0,g.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,g.jsx)("option",{value:"JP",children:"Japan"}),(0,g.jsx)("option",{value:"BR",children:"Brasil"}),(0,g.jsx)("option",{value:"AU",children:"Australia"}),(0,g.jsx)("option",{value:"SE",children:"Sweden"}),(0,g.jsx)("option",{value:"",children:"Clear Override"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.overrideCountry(a)},children:"Override"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Clear ad in slot"}),(0,g.jsxs)("select",{value:n,onBlur:()=>{},onChange:e=>{t(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.clearSlot(n)},children:"Clear slot"}),(0,g.jsx)("p",{children:"Trigger ad in slot"}),(0,g.jsxs)("select",{value:n,onBlur:()=>{},onChange:e=>{t(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.triggerSlot(n)},children:"Trigger slot"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.queueVideoAd()},children:"Queue Video Ad"})]})};var b=n(86706),N=n(34011),y=n(40669),S=n(5965);const O="scaF2wOGtuiU5UBKJrGa",w="PjVBb0nlrIUasTrrFgCx",C="MjtdwpkzFFhhmzeyzOy2",A="uVClWczmJLRR5jfAENGP",k=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],I=()=>{const e=(0,b.I0)(),s=(0,b.v9)((e=>e.inAppMessaging.env)),n=(0,b.v9)((e=>e.inAppMessaging.message)),[t,a]=(0,l.useState)(""),[r,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1);(0,l.useEffect)((()=>{n&&o&&c(!1)}),[n,o]);const d=!n&&o;return(0,g.jsx)("div",{className:O,children:(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,g.jsx)(y.v,{dir:"auto",value:s,id:"desktop.settings.inAppMessagingEnv",onSelect:function(s){"prod"!==s&&"dev"!==s||e((0,S.q1)(s))},children:k.map((({label:e,value:s})=>(0,g.jsx)("option",{value:s,children:e},s)))}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:C,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:t,onChange:function(e){a(e.target.value),c(!1)}})}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:C,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:r,onChange:function(e){i(e.target.value),c(!1)}})}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{children:(0,g.jsx)(N.D,{colorSet:"invertedLight",onClick:function(s){s.preventDefault(),e((0,S.XJ)(t,r)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,g.jsx)("div",{className:A,children:"No Messsage found"})]})})};var R=n(14927),P=n(23384),E=n(9279),T=n(39054),D=n(27531),B=n(31937),L=n(57520),U=n(15006),J=n(25853);const M="mHtMWLOMN_lZh6Eq1lBe",F="Ryr6R2suLwNRYud_tuXs",z="CB4s_xlu5db24RNOdk9e",_="rXwi6WM3vPDuyj9fQLw_",q="rqhyBEi1217s5l9KD42B",V=({name:e,value:s})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:F,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:z,truncate:!0,align:"right",children:s}),(0,g.jsx)(T.p,{className:_,children:(0,g.jsx)("button",{className:q,onClick:()=>{void 0!==s&&(0,J.v)(s)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),K=()=>{const e=(0,U.p)(),s=e.token?.accessToken??"Not authorized",n=new Date(e.token?.accessTokenExpirationTimestampMs??0);return(0,g.jsx)("div",{className:M,children:(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(V,{name:"Token",value:s}),(0,g.jsx)(V,{name:"Expires At",value:n.toLocaleString()}),(0,g.jsx)(V,{name:"Retry Attempt",value:e.retryAttempt?.toString()??"N/A"}),(0,g.jsx)(V,{name:"Retry At",value:e.retryAt?.toLocaleString()??"N/A"})]})]})})})};var W=n(39270);const $="WT_NZ6JEU_dK03UPUjQm",G="qiIwEYs34R1jRXwb_sZ8",H="x_Ve8I65cAL4jZHbutKP",Q="y_1aE6JElOnrFrvmgpUO",Z="rOqbwjYwx0AIWTfoYOQe",Y="w0xpmm3i0WhHooXZt9xC",X=({name:e,value:s})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:G,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:H,truncate:!0,align:"right",children:s}),(0,g.jsx)(T.p,{className:Q,children:(0,g.jsx)("button",{className:Z,onClick:()=>{void 0!==s&&(0,J.v)(s)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),ee=({device:e})=>(0,g.jsxs)(B.x,{children:[(0,g.jsx)("h3",{className:Y,children:e.name}),(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(X,{name:"Device",value:e?.name}),(0,g.jsx)(X,{name:"Identifier",value:e.id}),(0,g.jsx)(X,{name:"Type",value:e.type}),(0,g.jsx)(X,{name:"Group",value:e.isGroup.toString()}),(0,g.jsx)(X,{name:"Local",value:e.isLocal.toString()}),(0,g.jsx)(X,{name:"Active",value:e.isActive.toString()}),(0,g.jsx)(X,{name:"Connecting",value:e.isConnecting.toString()}),(0,g.jsx)(X,{name:"Disabled",value:e.isDisabled.toString()}),(0,g.jsx)(X,{name:"Volume",value:e.volume.toString()}),(0,g.jsx)(X,{name:"HiFi",value:e.hifiSupport.deviceSupported.toString()})]})]})]}),se=()=>{const e=(0,W.O)(),s=e.devices;return(0,g.jsxs)("div",{className:$,children:[(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsx)("tbody",{children:(0,g.jsx)(X,{name:"Status",value:e.connectionStatus})})]})}),s.map((e=>(0,g.jsx)(ee,{device:e},e.id)))]})};n(23767),n(8585),n(68696);var ne=n(1245),le=n(19325),te=n(79742),ae=n(99161),re=n(81052),ie=n(70167),oe=n(68741),ce=n(29205),de=n(43867),ue=n(71258),he=n(80849),xe=n(34882),je=n(81029),me=n(32667),ve=n(73382),pe=n(74257),ge=n(99709),fe=n(87531),be=n(64781);const Ne="gbcTqus4yhTHlzm2IETQ",ye="QoWcMe7qZMDKemQfS8Qu",Se="ZeUVhdgF8ZRjvUCTdmLr",Oe="mJkwncrS8jYg4iIg1f7y";const we=[ne.Ul,le.M$,te.gw,re._X,oe.No,ce.PodcastPaywallsClient,de.PrefsClient,he.ShowServiceClient,xe.KQ,fe.R3,be.Dx,ue.HB,ie.BK,c.ProductStateClient,je.Pn,ae.ListenLaterServiceClient],Ce="debug-esperanto-requests";const Ae=()=>{const[e]=(0,l.useState)((()=>{const e=(0,u.G)();return we.reduce(((s,n)=>(s[n.SERVICE_ID]={calls:n.DECODERS,client:new n(e)},s)),{})})),s=Object.keys(e),[n,t]=(0,l.useState)(s[0]),a=e[n].calls,r=Object.keys(a),[i,o]=(0,l.useState)(r[0]),[c,d]=(0,l.useState)(null),[h,x]=(0,l.useState)(""),[j,m]=(0,l.useState)(""),v=(0,R.um)(),p=(0,l.useCallback)(((s,n)=>{const l=s??Object.keys(e)[0],a=e[l].calls,r=n??Object.keys(a)[0];t(l),o(r);const i=function(e,s,n){const l=e.getItem(Ce);return"string"!=typeof l?null:JSON.parse(l)[s]?.[n]??null}(v,l,r);x(null!==i?i:JSON.stringify(a[r].request(new Uint8Array),((e,s)=>void 0===s?null:s),2))}),[v,e]);return(0,l.useEffect)((()=>{p()}),[p]),(0,l.useEffect)((()=>{!function(e,s,n,l){const t=e.getItem(Ce),a="string"==typeof t?JSON.parse(t):{};Object.hasOwn(a,s)||(a[s]={}),a[s][n]=l,e.setItem(Ce,JSON.stringify(a))}(v,n,i,h)}),[v,n,i,h]),(0,g.jsxs)("div",{className:Ne,children:[(0,g.jsxs)("div",{className:ye,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Endpoint"}),(0,g.jsx)(ve.i,{id:"service-dropdown",value:n,onChange:e=>{p(e.currentTarget.value)},children:s.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))}),(0,g.jsx)(ve.i,{id:"call-dropdown",value:i,onChange:e=>{p(n,e.currentTarget.value)},children:r.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})]}),(0,g.jsxs)("div",{className:Se,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Request"}),(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:()=>{try{const e=JSON.parse(h,((e,s)=>null===s?void 0:s)),s=JSON.stringify(e,((e,s)=>void 0===s?null:s),2);x(`${s}\n`)}catch(e){}},children:"Prettify"}),(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:async()=>{if(c)return c.cancel(),void d(null);const s=e[n].client;var l;const t=s[(l=i).charAt(0).toLowerCase()+l.slice(1)];if(1===t.length){const e=await t.call(s,JSON.parse(h,((e,s)=>null===s?void 0:s)));m(JSON.stringify(e,void 0,2))}else 2===t.length&&d(t.call(s,JSON.parse(h,((e,s)=>null===s?void 0:s)),(e=>{m(JSON.stringify(e,void 0,2))})))},children:null!==c?"Cancel":"Send"}),(0,g.jsx)(ge.B,{value:h,onChange:e=>{x(e.currentTarget.value)}})]}),(0,g.jsxs)("div",{className:Oe,children:[(0,g.jsx)(me.D,{as:"p",variant:"ballad",children:"Response"}),(0,g.jsx)(ge.B,{value:j,readOnly:!0})]})]})};n(5229),n(66223);var ke=n(63868);var Ie=n(73753),Re=n(92386),Pe=n(26527);var Ee=n(39275),Te=n(95389);var De=n(23716),Be=n(8341),Le=n(49104);const Ue="bFE0oGWgZ40KJHjcBj12",Je="nAeIvCNG4jVwkKxAEqwm",Me="KG4I4Zh3DDzaN0XwzddI",Fe="tiUNZpj0HxFf5EOWSiCA",ze="eymcN9Ndbrbe5jR7URP_",_e="nzbIAA5MqUSD0hIKUuHg",qe="hksYFxAm48XqAEbpcukQ",Ve="UnO1u4VJB0B6pTtqWh1n",Ke="xlSWVFMQmYmRK34yiPOA",We="oKgZ0g8at59jN8nf8Bee",$e="Nodut0kqaRIc93iGqbbP",Ge="dUIum8rPR6Msq9wot5ky";const He=({size:e,ranges:s})=>{if(0===s.length)return(0,g.jsx)("div",{className:qe,children:(0,g.jsx)("div",{className:Ve})});const n=`linear-gradient(90deg, ${s.map((s=>{const n=100*s.fromByte/e,l=100*s.toByte/e;return`transparent ${n}%, ${Ie.$_Y.azure135} ${n}%, ${Ie.$_Y.azure135} ${l}%, transparent ${l}%`})).join(", ")})`;return(0,g.jsx)("div",{className:qe,children:(0,g.jsx)("div",{className:Ve,style:{background:n}})})},Qe=({item:e,file:s})=>{const n=(0,De.g)(),l=(function(e){let s,n,l=0;if(0===e.length)return l;for(s=0;s<e.length;s++)n=e.charCodeAt(s),l=(l<<5)-l+n,l|=0;return l}(`${s.format}${s.bitrate}`)+180)%360;return(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:Je,highlight:!0,children:(0,g.jsxs)("div",{className:Ke,style:{background:`linear-gradient(180deg, hsl(${l}, 60%, 30%), hsl(${l}, 40%, 70%))`},children:[(0,g.jsx)("span",{className:We,children:s.format}),(0,g.jsx)("span",{className:$e,children:Ze(s.bitrate,1e3,"k")})]})}),(0,g.jsx)(T.p,{className:Me,truncate:!0,children:(0,g.jsxs)("div",{className:_e,children:[s.fileId,(0,g.jsx)(He,{size:s.byteSize,ranges:s.byteRanges})]})}),(0,g.jsxs)(T.p,{className:Fe,children:[(0,g.jsx)("button",{className:ze,onClick:()=>{n.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:s.fileId,bitrate:s.bitrate,format:s.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,g.jsx)(Re.J,{iconSize:16})}),(0,g.jsx)("button",{className:ze,onClick:()=>{(0,J.v)(s.fileId)},children:(0,g.jsx)(D.c,{iconSize:16})})]})]})};function Ze(e,s=1,n=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(e/s).toLocaleString("en",{maximumFractionDigits:10})}${n}`}function Ye(e){if(void 0!==e)return(0,Le.m)(parseInt(e,10))}const Xe=({name:e,value:s})=>(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:Je,highlight:!0,children:e}),(0,g.jsx)(T.p,{className:Me,truncate:!0,align:"right",children:s}),(0,g.jsx)(T.p,{className:Fe,children:(0,g.jsx)("button",{className:ze,onClick:()=>{void 0!==s&&(0,J.v)(s)},children:(0,g.jsx)(D.c,{iconSize:16})})})]}),es=()=>{const e=(0,Be.Y)((e=>e?.item??null)),s=function(){const[e,s]=(0,l.useState)(null),n=(0,Pe.f)();return(0,l.useEffect)((()=>{let e=!0;return n.getPlaybackInfo().then((n=>{e&&s(n)})),()=>{e=!1}}),[n]),(0,Te._)(Ee.r.INFO,(({data:e})=>{s(e)})),e}(),n=function(e=null,s=null){const[n,t]=(0,l.useState)(null),a=(0,Pe.f)();return(0,l.useEffect)((()=>{let n=!0,l=null;if(null===e)t(null);else{const r=async()=>{const s=await a.getFiles(e);n&&t(s)};r(),null!==s&&(l=window.setInterval(r,s))}return()=>{n=!1,null!==l&&window.clearInterval(l)}}),[a,e,s]),n}(e?.uri,500),t=(0,De.g)();return null===e?(0,g.jsx)("div",{className:Ue,children:"Nothing is currently playing."}):(0,g.jsxs)("div",{className:Ue,children:[(0,g.jsxs)("div",{className:Ge,children:[(0,g.jsx)(me.D,{variant:"violaBold",children:"Forced shuffle"}),(0,g.jsx)(ke.Z,{id:"forced-shuffe",value:t.getForcedShuffle(),onSelected:e=>{t.setForcedShuffle(e)}})]}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(Xe,{name:"url"===s?.fileType?"URL":"File ID",value:s?.fileId}),(0,g.jsx)(Xe,{name:"Type",value:s?.fileType}),(0,g.jsx)(Xe,{name:"url"===s?.fileType?"URL":"File ID",value:s?.fileId}),(0,g.jsx)(Xe,{name:"Codec",value:s?.codecName}),(0,g.jsx)(Xe,{name:"Bitrate",value:Ze(s?.fileBitrate,1e3,"k")}),(0,g.jsx)(Xe,{name:"Strategy",value:s?.strategy}),(0,g.jsx)(Xe,{name:"Target Bitrate",value:Ze(s?.targetBitrate,1e3,"k")}),(0,g.jsx)(Xe,{name:"Advisted Bitrate",value:Ze(s?.advisedBitrate,1e3,"k")}),(0,g.jsx)(Xe,{name:"Target File Available",value:(a=s?.targetFileAvailable,!0===a?"Yes":"No")}),(0,g.jsx)(Xe,{name:"Duration (hh:mm)",value:Ye(s?.lengthMs)}),(0,g.jsx)(Xe,{name:"Duration (ms)",value:Ze(s?.lengthMs,1," ms")}),(0,g.jsx)(Xe,{name:"Speed",value:Ze(s?.playbackSpeed)}),(0,g.jsx)(Xe,{name:"Gain Adjustment",value:Ze(s?.gainAdjustment)}),(0,g.jsx)(Xe,{name:"Loudness",value:s?.hasLoudness?Ze(s?.loudness):void 0})]})]})}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"72px"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"32px"})]}),(0,g.jsx)("tbody",{children:n?.map((s=>(0,g.jsx)(Qe,{item:e,file:s},s.fileId)))})]})})]});var a};n(20938);var ss=n(94184),ns=n.n(ss),ls=n(24697),ts=n(27827),as=n(7408),rs=n(3578),is=n(14644),os=n(57891),cs=n(16973),ds=n(98562),us=n(67062),hs=n(22423);const xs="HnpguQ3rtX44hdThdwy9",js="oJJkROlUPmT5lEqzx1cZ",ms="dQkRirl4qynBunRI_kR2",vs="RqhApI3LSHoimdyl53SQ",ps="y1gsL5scUuLOArVrFYRl",gs="Ni7focuLC626smvmOnLP",fs="W5wjtyjHTJPGX5j7_WOp",bs=({property:e,value:s,onOverride:n,isOverridden:l})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const t="bool"===e.type?["true","false"]:e.values;return(0,g.jsx)(ve.i,{id:`${e.name}-dropdown`,value:(s??e.default).toString(),onChange:s=>{var l;n(e.name,(l=s.currentTarget.value,"bool"===e.type?"true"===l:l))},className:ns()({[fs]:l}),children:t.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})},Ns=({property:e,value:s,onOverride:n,isOverridden:t})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[a,r]=(0,l.useState)(s??e.default),i=(0,ls.y1)((s=>{n(e.name,s)}),500);return(0,g.jsx)(ts.y,{type:"number",min:e.lower,max:e.upper,value:a,onChange:e=>{r(e.currentTarget.value),i(Number.parseInt(e.currentTarget.value,10))},className:ns()({[fs]:t})})},ys=({property:e,localValue:s,remoteValue:n,onOverride:l,filter:t})=>{const a=s!==n;return(0,g.jsxs)(E.S,{hover:!0,children:[(0,g.jsx)(T.p,{className:ms,title:e.name,highlight:!0,children:t?(0,g.jsx)(us.o,{searchWords:[t??""],textToHighlight:e.name}):e.name}),(0,g.jsx)(T.p,{className:vs,children:e.default.toString()}),(0,g.jsx)(T.p,{className:vs,children:n?.toString()??null}),(0,g.jsx)(T.p,{className:vs,children:"bool"===e.type||"enum"===e.type?(0,g.jsx)(bs,{property:e,value:s,onOverride:l,isOverridden:a}):"int"===e.type?(0,g.jsx)(Ns,{property:e,value:s,onOverride:l,isOverridden:a}):null})]})},Ss="debugPanelRemoteConfigLastChangedAtByPropertyName",Os=({properties:e,localConfiguration:s,remoteConfiguration:n,setOverrides:t,clearOverrides:a})=>{const{filter:r}=(0,l.useContext)(hs.fo),i=(0,R.um)(),o=()=>{const e=i.getItem(Ss);return e instanceof os.d||e instanceof cs.y?{}:e},c=(e,s)=>{t(rs.VK.fromJSON({[e]:s})),i.setItem(Ss,{...o(),[e]:Date.now()})},d=(0,l.useRef)(o()),u=e.sort(((e,s)=>(d.current[s.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(s.name)));return(0,g.jsxs)("div",{className:ps,children:[(0,g.jsxs)("div",{className:gs,children:[(0,g.jsx)(pe.P,{buttonSize:"sm",onClick:()=>{a(),i.clearItem(Ss)},children:"Clear local overrides"}),(0,g.jsx)(ds.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,g.jsx)(B.x,{children:(0,g.jsxs)(L.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsxs)(E.S,{children:[(0,g.jsx)(as.x,{className:js,children:"Name"}),(0,g.jsx)(as.x,{className:js,children:"Default"}),(0,g.jsx)(as.x,{className:js,children:"Remote"}),(0,g.jsx)(as.x,{className:js,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))).map((e=>(0,g.jsx)(ys,{property:e,localValue:s.getValue(e.name),remoteValue:n.getValue(e.name),onOverride:c,filter:r},e.name)))]})]})})]})},ws=()=>{const e=[...(0,rs.y6)()],{localConfiguration:s,remoteConfiguration:n,setOverrides:l,clearOverrides:t}=(0,is.j)();return(0,g.jsx)("div",{className:xs,children:(0,g.jsx)(hs.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,g.jsx)(Os,{properties:e,localConfiguration:s,remoteConfiguration:n,setOverrides:l,clearOverrides:t})})})},Cs="wjncHEmBUc7V8RZYdENw",As="uyHngn_fJez61BsFl3tA",ks="J2KhtXbDovVMDOMzv1Jy",Is="h5nLocSUS3w2NB53IdWQ",Rs="debugWindowActiveTabGroup",Ps="debugWindowActiveTabIndex",Es=()=>{const e=(0,Pe.f)().getCapabilities().canGetFiles,s=(0,o.wW)(),n=(0,o.wW)(),c=(0,l.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(P.K),Authorization:[{label:"Access Token",Panel:K}],Playback:[e?{label:"Playback",Panel:es}:null,{label:"Connect",Panel:se}].filter(P.K),"Data Fetching":[s?{label:"Esperanto",Panel:Ae}:null,null].filter(P.K),Other:[{label:"Remote Config",Panel:ws},n?{label:"Ads",Panel:f}:null,{label:"In-App Messaging",Panel:I}].filter(P.K)}).filter((([e,s])=>s.length>0)))),[e,s,n]),d=Object.keys(c),u=(0,R.um)(),h=u.getItem(Rs),x="string"==typeof h&&h in c?h:d[0],[j,m]=(0,l.useState)(x),v=u.getItem(Ps),p="number"==typeof v&&v in c[j]?v:0,[b,N]=(0,l.useState)(p),y=c[j][b].Panel;return(0,g.jsx)("div",{className:"encore-dark-theme",children:(0,g.jsxs)("div",{className:Cs,children:[(0,g.jsx)(t.W,{className:As,children:(0,g.jsx)(a.b,{flexMobile:!0,children:d.map((e=>(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(r.W,{children:e}),c[e].map(((s,n)=>(0,g.jsx)(i._,{active:j===e&&b===n,label:s.label,onClick:()=>{m(e),u.setItem(Rs,e),N(n),u.setItem(Ps,n)},className:ks,children:s.label},s.label)))]},e)))})}),(0,g.jsx)("div",{className:Is,children:(0,g.jsx)(y,{})})]})})}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map