"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3472],{21373:(e,t,a)=>{a.d(t,{o:()=>n});var s=a(69062),i=a(78241);function n(){return{version:(0,s.W6)(i.GE)?2:1}}},27478:(e,t,a)=>{a.d(t,{p:()=>u,q:()=>r.q});var s=a(59496),i=a(90641),n=a(60962),r=a(24252),o=a(73175),l=a(85345),c=a(4637);const d=s.memo((function({uri:e,size:t=r.q.md,className:a,onClick:d,showUpsell:u}){const[p,m]=(0,n.Z)(e),h=(0,i.I0)(),x=(0,l.o)(),g=(0,s.useCallback)((()=>{x({targetUri:e,intent:p?"remove-from-library":"add-to-library",type:"click"}),m(!p),h(p?(0,o.SS)():(0,o.kK)())}),[x,e,p,m,h]);return(0,c.jsx)(r.o,{className:a,isFollowing:p,onFollow:g,onClick:d,uri:e,size:t,showUpsell:u})})),u=s.memo((function(e){return(0,c.jsx)(d,{...e})}))},27043:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ht});var s=a(59496),i=a(92053),n=a(69062),r=a(86159),o=a(79334),l=a(58767),c=a(60378),d=a(62256),u=a(70926),p=a(37277),m=a(23362),h=a(21373),x=a(41566),g=a(4637);const y=(0,s.lazy)((()=>a.e(8561).then(a.bind(a,38561)))),j="Episode page";function b(e){const t=(0,x.m)(),a=(0,h.o)();return t?(0,g.jsx)(s.Suspense,{fallback:!0,children:(0,g.jsx)(y,{reason:j,...a,...e})}):null}const k="dpN5ViPOceUWNB5EQPHN",C="vBcxPq3E2okwgXOkVPEM",P="HCCBXwdFvq6omWW2hR0N",f="bJOPO5Zo7dpjSVDwEpSw",v="TXdDDpokVTyJzDEDWHHf",T="HaSbtEVJnxBsaJ5SRi0M",I="YldGldlfaI9myEGXQf9g",E="qJHVIpJn1vLPWsAKfTEZ",S="wSIzjkVlr0Zdy7di2vRm",N="hYS_K1NATGyWt6tCSRqQ",D="hVVaM4pF9arpQ8Nvn2a1",L="zf0Eac1LugsHUacz74Zf",U="TnNaqxbaI0hzhBQZ7wE0",w="zSw1lG1TNe_xm6KTqtCv",M="MlEQDkXnjdKKJueJ9kkB",R="jg0xlyD1yjh0DPNG6eOg",B="QiHXpFb4dLZNOFe5gpp3";var A=a(65748),F=a(75967),O=a(77741),z=a(73549),_=a(78241),$=a(87088);const q=({cardHeaderText:e,cardBodyText:t,buttonText:a,buttonTarget:s})=>(0,n.W6)(_.vp)?(0,g.jsxs)("div",{className:I,children:[(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)(A.D,{variant:"balladBold",semanticColor:"textBase",children:e}),(0,g.jsx)(A.D,{semanticColor:"textBase",children:t})]}),(0,g.jsx)(z.D,{buttonSize:"sm",colorSet:"invertedLight",href:(0,l.EC)(s).toURLPath(!0),component:$.Z,children:a})]}):null,H=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:a,hasDescription:i,htmlDescription:n,onExpanded:r,onTimeStampClick:o,playability:l,showHeader:d=!0,spec:u})=>{const p=(0,O.$P)(),m=(i||t)&&d,h=(0,s.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]);return(0,g.jsxs)(g.Fragment,{children:[m&&(0,g.jsx)(A.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:P,children:c.ag.get("episode.description-title")}),t&&(0,g.jsx)(q,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),i&&(0,g.jsx)(F.o,{className:C,onTimeStampClick:o,maxLines:4,onExpanded:h,content:(a||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:l.playable})]})};var W,K=a(84875),Z=a.n(K),V=a(91929),Y=a(22630),G=a(55274),J=a(94921),X=a(88679),Q=a(59125);!function(e){e.DESCRIPTION="description",e.TRANSCRIPT="transcript"}(W||(W={}));const ee=s.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:a,spec:i}){const n=(0,O.$P)(),[r,o]=(0,s.useState)(W.DESCRIPTION),{scrollNodeRef:l}=s.useContext(Q.VX),{ref:d,inView:u}=(0,V.YD)({threshold:[1],root:l.current,rootMargin:`-${X.K1+1}px 100000px 0px 100000px`}),p=(0,s.useRef)(null),m=(0,s.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,s.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const a=e-X.K1;t.scrollTop>a&&t.scrollTo({top:a})}),[l,r]),(0,g.jsx)(Y.l,{list:(0,g.jsxs)(G.F,{className:Z()(M,{[R]:!u}),ref:m,children:[(0,g.jsx)(J.c,{label:c.ag.get("web-player.episode.description"),sentenceCase:!0,active:r===W.DESCRIPTION,onClick:()=>{const e=i.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(W.DESCRIPTION)},className:Z()(B,{[S]:r===W.DESCRIPTION})}),(0,g.jsx)(J.c,{label:c.ag.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===W.TRANSCRIPT,onClick:()=>{const e=i.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(W.TRANSCRIPT)},className:Z()(B,{[S]:r===W.TRANSCRIPT})})]}),children:null===e||r===W.DESCRIPTION?t:a})}));var te=a(14256),ae=a(26782),se=a(67551),ie=a(71044);const ne=(0,s.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:a}){const{spec:s,logger:i}=(0,O.fU)(te.m,{data:{uri:a}}),{isPlaying:n}=(0,se.n)({uri:a},{featureIdentifier:"episode"}),r=s.timestampLinkFactory();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:D,children:(0,g.jsx)(A.D,{variant:"viola",semanticColor:"textBase",children:c.ag.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,s)=>{const o=`transcript-section-${s}`;return(0,g.jsxs)("div",{className:N,children:[(0,g.jsx)("button",{className:L,onClick:()=>{t(e.startMs,o),i.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:a}))},children:(0,g.jsx)(ae.D,{id:o,targetURI:(0,l.EC)(a),fadeOut:!0,children:(0,g.jsx)(A.D,{variant:"finaleBold",semanticColor:"textSubdued",className:U,children:(0,ie.m)(e.startMs)})})}),e.content.map(((e,t)=>(0,g.jsx)(A.D,{variant:"viola",semanticColor:"textBase",className:w,dir:"auto",children:e},`transcript-text-${t}`)))]},o)}))]})}));var re=a(90060),oe=a(40822),le=a(34622),ce=a(86848),de=a(58212),ue=a(53942),pe=a(59634),me=a(46828),he=a(7824),xe=a(27203),ge=a(78061);const ye="OYehkMWcGJRKPkByp46K",je="uc1bXkrZqrCz0CMK4lBb",be="qZeibBbA3SVClzEueYND",ke=({episodeUri:e,index:t,duration:a,start:i,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:h}=(0,he.k)({episodeUri:e,start:i,stop:n}),x=(0,s.useCallback)(((e,t)=>{h(t)}),[h]),{spec:y}=(0,O.fU)(de.createDesktopTrackListRowEventFactory,{data:{position:t,reason:"",uri:o}});return(0,g.jsx)(ge.ZP,{value:"row",index:t,children:(0,g.jsx)(xe.xV,{trigger:"right-click",action:"open",menu:(0,g.jsx)(ue.$,{uri:o}),children:(0,g.jsxs)(me.c,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l?.[0].name??""},onTriggerPlay:x,isActive:p,isPlayable:u,spec:y,children:[(0,g.jsxs)(pe.vZ,{ariaColIndex:0,children:[(0,g.jsx)(pe.Du,{uri:o,playAriaLabel:c.ag.get("tracklist.a11y.play",r,l?.[0].name),onClick:x,isPlaying:m,isActive:p,spec:y,children:(0,g.jsx)(pe.km,{children:(0,g.jsx)("img",{className:je,src:d.image,alt:d.name})})}),(0,g.jsxs)(pe.vm,{children:[(0,g.jsx)(pe.Wh,{titleText:r,children:r}),(0,g.jsx)(pe.K9,{children:(0,g.jsx)(pe.T6,{artists:l,spec:y})})]})]}),(0,g.jsx)(pe.UA,{ariaColIndex:1,children:(0,g.jsx)(pe.BM,{uri:d.uri,name:d.name,spec:y,children:d.name})}),(0,g.jsxs)(pe.mU,{ariaColIndex:2,children:[(0,g.jsx)(pe.qS,{uri:o,spec:y}),(0,g.jsx)(pe.A$,{duration:a}),(0,g.jsx)(pe.Zv,{spec:y,menu:(0,g.jsx)(ue.$,{uri:o,artists:l}),label:c.ag.get("more.label.track",r,l?.[0].name)})]})]})})})};function Ce(e,t,a){return e.reduce(((e,s,i)=>((i>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===s.type?e.push(function(e,t,a){return{type:"MUSIC",index:t,uri:a.uri,episodeUri:e,start:a.start,stop:a.stop,duration:a.duration,name:a.track.name,artists:a.track.artists,album:a.track.album,playable:a.track.playable}}(a,i,s)):"TALK"===s.type&&e.push(function(e,t,a){return{type:"TALK",index:t,uri:e,title:a.title,subtitle:a.subtitle,start:a.start,stop:a.stop,duration:a.duration,showUri:a.show.uri,showName:a.show.name}}(a,i,s)),e)),[])}const Pe=({uri:e,segmentCount:t})=>{const a=(0,le.G)(),i=(0,s.useCallback)((async(s,i)=>{const n=Math.ceil(s/2);try{return{items:Ce(await a.getSegments(e,n,i),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,a,e]),n=(0,s.useCallback)((t=>{switch(t.type){case"SPACER":return(0,g.jsx)("div",{className:be},t.id);case"MUSIC":return(0,g.jsx)(ke,{...t},`${e}-${t.index}`);case"TALK":return(0,g.jsx)(re.t,{...t},`${e}-${t.index}`);default:return(0,ce.U)(t)}}),[e]),r=c.ag.get("music_and_talk.in_this_episode");return(0,g.jsxs)("div",{children:[(0,g.jsx)(A.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ye,children:r}),(0,g.jsx)(oe.Pv,{ariaLabel:r,hasHeaderRow:!0,rowPlaceholder:oe.hU,columns:[oe.QD.TITLE,oe.QD.ALBUM_OR_SHOW,oe.QD.DURATION],renderRow:n,fetchTracks:i,resolveUri:e=>"MUSIC"===e.type?e.uri:"",limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var fe=a(4107);const ve=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:a,hasDescription:i,hasMusicAndTalkSegements:n,htmlDescription:r,onExpanded:o,onDescriptionTimestampClick:l,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:h,transcript:x,transcriptEnabled:y,uri:j,spec:k})=>{const C=(0,O.$P)(),P=(0,s.useMemo)((()=>k.descriptionSectionFactory()),[k]),v=(0,s.useMemo)((()=>P.trackListFactory()),[P]),[T,I]=(0,s.useState)(null),E=(0,s.useCallback)((async e=>{const t=await(0,fe.l)(e);I(t)}),[]);(0,s.useEffect)((()=>{x&&x.length>0&&E(x[0].cdnUrl)}),[E,x]);const S=s=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(H,{hasDescription:i,contentInformation:t,onTimeStampClick:l,onExpanded:o,description:a,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:s,spec:P}),n&&(0,g.jsx)(O.Nh,{spec:v,children:(0,g.jsx)(Pe,{segmentCount:p,uri:j})}),h&&(0,g.jsx)(m.P,{buttonSize:"sm",className:f,href:h,component:$.Z,onClick:()=>{C.logInteraction(P.allEpisodesLinkFactory().hitUiNavigate({destination:h}))},children:c.ag.get("episode.see_all_episodes")}),(0,g.jsx)(b,{uri:j})]});return(0,g.jsx)(g.Fragment,{children:y&&x&&x?.length>0?(0,g.jsx)(ee,{transcriptSections:T,descriptionContent:S(!1),transcriptContent:(0,g.jsx)(ne,{transcriptSections:T||[],onTimeStampClick:d,episodeUri:j}),spec:k}):S(!0)})};var Te=a(39704),Ie=a(17953),Ee=a(19713),Se=a(42073);const Ne="activation-trigger-mme",De=({episodeUri:e,showUri:t,isLocked:a,isPlaying:s,isPlayDisabled:i,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o})=>{const c=(0,Se.E)();if((0,Ie.g)())return(0,g.jsx)(Ee.JM,{size:Ee.qE.lg,onClick:o,isPlaying:s,disabled:i,locked:a,ariaPlayLabel:n,ariaPauseLabel:r});const d=(0,g.jsx)(Te.l,{showUri:t,enabled:a,renderInline:!1,children:(0,g.jsx)(Ee.JM,{size:Ee.qE.lg,onClick:o,isPlaying:s,disabled:i,locked:a,ariaPlayLabel:n,ariaPauseLabel:r})});return c?(0,g.jsx)(ae.D,{id:Ne,targetURI:(0,l.EC)(e),fadeOut:!0,children:d}):d};var Le=a(85345),Ue=a(3630),we=a(19627),Me=a(52489),Re=a(19412),Be=a(57869),Ae=a(2567),Fe=a(76501),Oe=a(19193),ze=a(65905),_e=a(19252),$e=a(90641),qe=a(73355),He=a(43234),We=a(27478),Ke=a(75115),Ze=a(85387),Ve=a(33308),Ye=a(39866),Ge=a(51023),Je=a(78891),Xe=a(44135),Qe=a(24860),et=a(49507),tt=a(59362);const at=({episode:e,onPlayEpisode:t,isPlaying:a,isActive:i,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:h}=e,x=(0,O.$P)(),y=(0,$e.I0)(),[j]=(0,Qe.z)(1e4,(e=>e?.item?.uri===u)),b=(0,Be.Y)((e=>e?.duration)),{badges:k}=(0,tt.r)({contentRating:m?.label}),C=(0,s.useCallback)((e=>{!h.playable&&k.nineteen&&(e.stopPropagation(),y((0,qe.RM)(u||"")))}),[u,h.playable,k.nineteen,y]),P=(0,s.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();x.logInteraction(e)}),[x,d]),f=(0,s.useCallback)(((e,t)=>{(0,Ye.l7)(t,d.downloadButtonFactory(),x,u)}),[x,d,u]),T=(0,s.useCallback)((e=>{const t=d.saveButtonFactory();x.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u}))}),[x,d,u]),I=!l&&!e.playability.playable,E=c.ag.get("tracklist.a11y.play",e.name,e.podcast?.name),S=c.ag.get("tracklist.a11y.pause",e.name,e.podcast?.name),N=e.podcast?.uri;return(0,g.jsxs)(He.o,{backgroundColor:o,children:[(0,g.jsxs)(He.F,{children:[k.nineteen&&(0,g.jsx)(Xe.X,{className:v,size:16}),(0,g.jsx)(et.E,{size:et.$.LARGE,fullyPlayed:n,durationMs:i&&b?b:e.duration.milliseconds,releaseDate:xt(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:a,position:i&&j||void 0})]}),(0,g.jsxs)(He.F,{children:[(0,g.jsx)("div",{onClick:C,children:(0,g.jsx)(De,{episodeUri:e.uri,showUri:N,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:a,isPlayDisabled:I,playButtonPlayLabel:E,playButtonPauseLabel:S})}),!l&&(0,g.jsx)(We.p,{uri:e.uri,onClick:f}),(0,g.jsx)(Ze.w,{uri:e.uri,size:Ge.q.md,onClick:T}),(0,g.jsx)(Je.y,{onShow:P,menu:(0,g.jsx)(Ve.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:N,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,g.jsx)(Ke.z,{label:c.ag.get("more.label.context",e.name)})})]})]})};var st=a(37611),it=a(26553),nt=a(65476),rt=a(9719),ot=a(23484),lt=a(90399);const ct=({episode:e,isFullyPlayed:t,setIsFullyPlayed:a,backgroundColor:i,spec:n})=>{const{uri:r,name:o,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m}=e,h=(0,O.$P)(),x=function(e,t,a,s,i){const n=t===ze.Wf.Episode;return(0,lt.G3)(e,s,a,i)?(0,g.jsx)(lt.Fg,{isMusicAndTalk:n}):n?c.ag.get("type.showEpisode"):c.ag.get("type.podcastEpisode")}(r,p||ze.Wf.Unknown,u.playPositionMilliseconds,xt(m?.isoString),u.state===ze.sY.Completed),y=e.podcast?.uri,j=function(e){const t=(0,l.EC)(e);return`/show/${(0,l.HB)(t?.id||"")}`}(y),b=(0,s.useCallback)((()=>{h.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:j}))}),[h,j,n]);return(0,g.jsxs)(st.gF,{backgroundColor:i,children:[(0,g.jsx)(it.W,{children:(0,g.jsx)(nt.i,{text:e.name,dragUri:r,dragLabel:e.name})}),(0,g.jsx)("div",{className:T,children:(0,g.jsx)(ot._,{menu:(0,g.jsx)(Ve.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:y,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:a}),children:(0,g.jsx)(st.Oe,{loading:"eager",name:e.name,images:e.coverArt,placeholderType:"episode",shape:st.Kc.ROUNDED_CORNERS})})}),(0,g.jsxs)(st.sP,{children:[(0,g.jsx)(A.D,{variant:"mestoBold",children:x}),(0,g.jsx)(ot._,{menu:(0,g.jsx)(Ve.k,{uri:r,sharingInfo:d,showUri:y,contextUri:r,isPlayed:t,onMarkAsPlayed:a}),children:(0,g.jsx)(st.xd,{dragUri:r,dragLabel:o,children:(0,g.jsx)("span",{"data-testid":"episodeTitle",children:o})})}),(0,g.jsx)(ot._,{menu:(0,g.jsx)(Ve.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:y,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:a}),children:(0,g.jsx)(A.D,{variant:"canon",children:(0,g.jsx)(rt.default,{to:j,onClick:b,children:(0,g.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})})})]})]})};var dt=a(23949),ut=a(73063),pt=a(49524);const mt=({episode:e})=>{const{uri:t,episodeType:a,description:i,htmlDescription:o,podcastSubscription:c,segmentsCount:p,podcast:m,contentInformation:h,playedState:x,coverArt:y}=e,{spec:j,logger:b}=(0,O.fU)(r.J,{data:{uri:t}}),C=(0,dt.k)(),P=(0,s.useMemo)((()=>j.headerFactory()),[j]),f=(0,s.useMemo)((()=>j.actionBarFactory()),[j]),[v,T]=(0,s.useState)(x.state===ze.sY.Completed),I=(0,Me.g)(),E=(0,Le.o)(),S=(0,n.W6)(_.Cz),N=void 0!==p&&p>0,D=(0,n.W6)(_.WE,{loadingValue:!1}),L=(0,Ie.g)(),{triggerPlay:U,togglePlay:w,isPlaying:M,isActive:R}=(0,se.n)({uri:t,...C?{}:{pages:[{items:[{type:_e.p.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),{isActive:B}=(0,Re.$o)(t),A=y[0].url,F=(0,we.Zj)(A||null),z=(0,Be.Y)((e=>e?.isPaused??void 0)),$=(0,Se.E)(),q=c.isPaywalled&&!c.isUserSubscribed,H=B||R,W=e?{name:e.name,uri:e.uri,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,K=m?{name:m.name,uri:m.uri,trailer:m.trailer,showTypes:m.showTypes}:null,Z=(0,Ue.s)(W,K),V=(0,s.useCallback)(((e,s,i,n)=>{const r=()=>{z?(n?.("resume"),I.resume()):(n?.("pause"),I.pause())};if(q)return;let o="play";if(!M||0!==e&&s||(o="pause"),E({intent:o,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),a===ze.Wf.Episode&&$)u.y.set((()=>({triggerId:i||Ne,triggerAction:null})));else if(R&&!s)L?r():w({loggingParams:n?.()});else if(B&&!s)r();else{const t=n?.("play");L?Z({seekTo:e,loggingParams:t}):U({seekTo:e,loggingParams:t})}}),[q,M,E,t,a,$,B,R,L,z,I,w,Z,U]),Y=(0,s.useCallback)((e=>{V(e,!1,void 0,(e=>{const a=j.actionBarFactory().playButtonFactory();let s;return s="pause"===e||M?a.hitPause({itemToBePaused:t}):"resume"===e||H?a.hitResume({itemToBeResumed:t}):a.hitPlay({itemToBePlayed:t}),b.logInteraction(s)}))}),[V,H,M,b,j,t]),G=(0,s.useCallback)((e=>{V(e,!0,void 0,(()=>b.logInteraction(j.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[V,b,j,t]),J=(0,s.useCallback)(((e,t)=>{V(e,!0,t)}),[V]),X=(0,s.useCallback)((()=>{E({intent:"expand-description",type:"click"})}),[E]);(0,s.useEffect)((()=>{if(e&&!H){const t=new URLSearchParams(location.search);if(t.has("t")){const a=t.get("t")||"0",s=1e3*parseInt(a,10);s<=e.duration.milliseconds&&V(s,!0)}}}),[e,H]);const Q=!!i||S&&!!o,ee=e.podcast?.uri,te=(0,l.EC)(ee)?.toURLPath(!0);return(0,g.jsxs)("section",{"data-testid":"episode",className:k,children:[(0,g.jsx)(d.$,{children:(0,Oe.mK)({episodeOrChapterName:e.name,showOrAudiobookName:e.podcast?.name??"",type:"Podcast"})}),(0,g.jsx)(ct,{episode:e,isFullyPlayed:v,setIsFullyPlayed:T,backgroundColor:F,spec:P}),(0,g.jsx)(at,{episode:e,onPlayEpisode:Y,isPlaying:M,isActive:H,isFullyPlayed:v,setIsFullyPlayed:T,backgroundColor:F,isLocked:q,spec:f}),(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(ve,{transcriptEnabled:D,transcript:e.transcript,hasDescription:Q,contentInformation:h,onDescriptionTimestampClick:G,onTranscriptTimestampClick:J,onExpanded:X,description:e.description,areHTMLDescriptionsEnabled:S,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegements:N,segmentCount:p,uri:e.uri,showUrl:te,spec:j})})]})},ht=s.memo((function(){const{episodeId:e=""}=(0,i.UO)(),t=(0,l.YD)(e).toURI(),a=(0,Ae.I)(t);return a?(0,Fe.Ey)(a)?(0,g.jsx)(ut.InstrumentedRedirect,{to:(0,l.EC)(a.book?.uri).toURLPath(!0)}):(0,g.jsx)(s.Suspense,{fallback:null,children:(0,g.jsx)(pt.C,{pageId:o.Wg.PODCAST_EPISODE,uri:t,children:(0,g.jsx)(mt,{episode:a})})}):(0,g.jsx)(p.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.podcast")})}));function xt(e){return e?.replace(/T.*/,"")||""}},49507:(e,t,a)=>{a.d(t,{E:()=>I,$:()=>T});var s=a(63355),i=a(59496);const n="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",o="pklLPOhfigdytL9bPoth",l="sb24Y8kdMZInJ8aI8dXT";var c=a(4637);class d extends i.PureComponent{static defaultProps={current:0,max:1};render(){const{ariaValueText:e,max:t,current:a}=this.props,s=t&&a?100*Math.min(1,a/t):0,i={transform:`translateX(-${100-s}%)`},d=e||`${Math.round(s)}%`;return(0,c.jsxs)("div",{className:n,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":d,children:[(0,c.jsx)("div",{className:r}),(0,c.jsx)("div",{className:o,children:(0,c.jsx)("div",{"data-testid":"progressBarFg",className:l,style:i})})]})}}const u=d,p="qfYkuLpETFW3axnfMntO",m="jOd7lbjiyc_kvRJaAbeL",h="_q93agegdE655O5zPz6l",x="z7Yl7CIT1AB0y91f_moh",g="iLIlkUcfIq56KncGtX7u",y="nV50yZ6BR_TIuWP3l7b1",j="qLjIx_SzBEpDRA_q7kxQ";var b=a(65748),k=a(24049),C=a(60378),P=a(84875),f=a.n(P),v=a(72735);let T;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(T||(T={}));const I=e=>{const{resumePositionMs:t=0,releaseDate:a,isPlaying:i,fullyPlayed:n,durationMs:r,size:o=T.SMALL,position:l=t}=e;return(0,c.jsxs)("div",{className:f()(p,{[m]:o===T.LARGE}),children:[a?(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:(0,s.rL)((0,s.RX)(a))}):null,(()=>{if(n&&!i)return(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:C.ag.get("episode.played")}),(0,c.jsx)(k.N,{iconSize:16,className:j,"aria-hidden":"true"})]});if(l>0||i){const e=Math.ceil(Math.max(r-l,0));return(0,c.jsx)("div",{className:g,children:(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:(0,c.jsx)(v.ng,{durationMs:e})})})}return(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:(0,c.jsx)(v.nL,{durationMs:r})})})(),!n&&l>0||i?(0,c.jsx)("div",{className:y,children:(0,c.jsx)(u,{current:l,max:r,isEnabled:!1})}):null]})}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map