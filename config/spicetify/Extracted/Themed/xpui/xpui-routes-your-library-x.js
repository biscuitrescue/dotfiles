"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3111],{40771:(e,t,r)=>{r.d(t,{Z:()=>i});var l=r(67892),s=r(85893);const i=({href:e,children:t,...r})=>(0,s.jsx)(l.Z,{to:e,...r,children:t})},55426:(e,t,r)=>{r.d(t,{l:()=>E});var l=r(67294),s=r(94184),i=r.n(s),a=r(86706),n=r(98197),o=r(86604),c=r(12324),d=r(69559);const u="search-searchCategory-contentArea",x="search-searchCategory-catergoryGrid",y="MUloQuW1xQawwVs0mDp4",p="OlnSvEViCZ_vVdnc3mSQ",m="FjMPyh7lOujDVYQRvp0H",g="search-searchCategory-carousel",h="search-searchCategory-carouselButton",b="search-searchCategory-carouselButtonVisible";var S,I=r(85893);function j(e,t){(0,c.Bu)(e,t),t.scrollIntoView({block:"end",inline:"center"})}function f(e,t){const r=e.querySelector('[tabindex="0"]')||e.firstElementChild;t===S.RIGHT&&r.nextElementSibling?j(r,r.nextElementSibling):t===S.LEFT&&r.previousElementSibling&&j(r,r.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(S||(S={}));const E=e=>{const{children:t,className:r,showButtons:s=!0,ariaLabel:c}=e,j=(0,l.useRef)(null),E=(0,l.useRef)(null),[C,_]=(0,l.useState)(!1),[v,D]=(0,l.useState)(!1),O=(0,l.useCallback)((()=>{if(!E.current||!j.current)return;const e=E.current,t=j.current,r=e.scrollWidth-e.clientWidth,l=Math.ceil(Math.abs(e.scrollLeft)),s=e.scrollWidth>t.clientWidth;D(s&&0!==l),_(s&&l<r)}),[]);(0,d.a)((()=>{O()}));const k=l.Children.toArray(t).length;(0,l.useEffect)(O,[k,O]);const T=(0,l.useCallback)((e=>{const t=e*(j.current.clientWidth/2);E.current.scrollBy({left:t}),O()}),[O]),w=(0,a.v9)((e=>e.ui?.textDirection?.isRTL)),N=(0,l.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),f(E.current,w?S.RIGHT:S.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),f(E.current,w?S.LEFT:S.RIGHT))}),[w]),Z=w?C:v,L=w?v:C;return(0,I.jsxs)("div",{ref:j,className:i()(u,r),children:[(0,I.jsx)("div",{ref:E,className:i()(x,{[p]:L&&!Z,[y]:Z&&!L,[m]:Z&&L}),onScroll:O,onKeyDown:N,role:"list","aria-label":c,tabIndex:0,children:t}),s&&(0,I.jsxs)("div",{className:g,dir:"ltr",children:[(0,I.jsx)("button",{className:i()(h,{[b]:Z}),tabIndex:-1,onClick:()=>T(S.LEFT),children:(0,I.jsx)(n.e,{semanticColor:"textBase"})}),(0,I.jsx)("button",{className:i()(h,{[b]:L}),tabIndex:-1,onClick:()=>T(S.RIGHT),children:(0,I.jsx)(o.V,{semanticColor:"textBase"})})]})]})}},87379:(e,t,r)=>{r.d(t,{i:()=>m});var l=r(94184),s=r.n(l),i=r(18864);const a="kwJGggri7IZMFvQEClUf",n="yt0QcQy0t7LfbeVaEJG_",o="WHMDRepGVQXXrTx3838g",c="wLoqasagmgNF8ULGMhil",d="cpC_03FZN3i93V8j3g0l",u="S7CXd4i9huhWL_kPV_e3",x="c85eTWJAYaGjCiwH1WDu",y="cTTgGuDbNSWllHjVqiUx";var p=r(85893);const m=({className:e,leading:t,media:r,pretitle:l,title:m,subtitle:g,body:h,footer:b,trailing:S,onContextMenu:I,onTouchStart:j,onTouchEnd:f,onDragStart:E,onDoubleClick:C})=>{const _=(0,i.jh)();return(0,p.jsxs)("div",{className:s()(e,a),onContextMenu:I,onTouchStart:j,onTouchEnd:f,draggable:!0,onDragStart:E,onDoubleClick:C,children:[t?(0,p.jsx)("div",{className:n,children:t}):null,r?(0,p.jsx)("div",{className:o,children:r}):null,(0,p.jsxs)("div",{className:c,children:[l?(0,p.jsx)("div",{children:l}):null,m?(0,p.jsx)("div",{className:x,children:m}):null,g?(0,p.jsx)("div",{className:y,children:g}):null,h?(0,p.jsx)("div",{children:h}):null,b?(0,p.jsx)("div",{children:b}):null]}),S?(0,p.jsx)("div",{className:s()(d,{[u]:_===i.Uo.MEDIUM}),children:S}):null]})}},76119:(e,t,r)=>{r.d(t,{A:()=>h});var l=r(34142),s=r(47921),i=r(32667),a=r(20246),n=r(71379),o=r(78267),c=r(30005),d=r(36652),u=r(21691),x=r(13153),y=r(85893);const p=({heading:e,selected:t,onSelect:r,options:l,sortOrder:s})=>{let i;s&&(s===x.kn.ASC||s===x.kn.SECONDARY_ASC?i=n.C:s!==x.kn.DESC&&s!==x.kn.SECONDARY_DESC||(i=o.B));return(0,y.jsxs)(c.v,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[e?(0,y.jsx)(d.F,{children:e}):null,l.map((({key:e,value:l})=>(0,y.jsx)(u.s,{role:"menuitemradio","aria-checked":e===t.key,CheckedIcon:i,onClick:()=>r(e),children:l},e)))]})},m="x-sortBox-sortDropdown";const g=({isOpen:e})=>e?(0,y.jsx)(l.U,{iconSize:16,"aria-hidden":"true"}):(0,y.jsx)(s.i,{iconSize:16,"aria-hidden":"true"}),h=({heading:e,options:t,selected:r,onSelect:l,sortOrder:s,variant:n="mesto",semanticColor:o,disabled:c,onClick:d})=>{const[u]=t;return r||(r=u),(0,y.jsx)(a.y,{menu:(0,y.jsx)(p,{selected:r,options:t,onSelect:l,sortOrder:s,heading:e}),children:(e,t,l)=>(0,y.jsxs)("button",{className:m,onClick:e=>{c||(d?.(e),t(e))},ref:l,type:"button",children:[(0,y.jsx)(i.D,{semanticColor:o,variant:n,children:r.value}),(0,y.jsx)(g,{isOpen:e})]})})}},74589:(e,t,r)=>{r.d(t,{S:()=>a});var l=r(92100);const s="fRZRXRIV2YBCFLYgwDAr";var i=r(85893);const a=({iconSize:e=64,...t})=>(0,i.jsx)("div",{className:s,children:(0,i.jsx)(l._,{iconSize:e,...t,semanticColor:"textBrightAccent","aria-hidden":!0})})},4771:(e,t,r)=>{r.r(t),r.d(t,{YourLibraryX:()=>Qt});var l=r(67294),s=r(94184),i=r.n(s),a=r(38471),n=r(24697),o=r(65953),c=r(24391),d=r(53003),u=r(12766),x=r(45342),y=r(91389),p=r(27937),m=r(37415),g=r(66807),h=r(22423),b=(r(57658),r(62830)),S=r(41476),I=r(23384);const j=new Set(Object.values(o.JM));function f(e){return j.has(e)}function E(e,t){return Array.from(e.dataTransfer?.types??[]).filter(S.Fu).filter((e=>{const r=S.UD[e];return!!f(r)&&t.includes(r)})).map((e=>S.UD[e])).filter(f)}function C(e,t,r){const l=E(e,t),s=function(e,t=Object.values(o.JM)){return e.split(/[\s,;]+/g).map((e=>(0,o.EC)(e?.trim()))).filter(I.K).reduce(((e,r)=>t.includes(r.type)?(e[r.type]||=[],e[r.type].push(r.toURI()),e):e),{})}(e.dataTransfer?.getData("text/plain"),t),i=Array.from(new Set([...Object.keys(s),...l])).filter(f),a=Object.fromEntries(i.map((t=>{const r=s[t]??[],l=e.dataTransfer?.getData(S.ZP[t])?.split("\n").filter(Boolean)??[];return[t,Array.from(new Set([...l,...r]))]})));if(r){const{[o.JM.PLAYLIST]:e,...t}=a;return{...t,[o.JM.PLAYLIST_V2]:Array.from(new Set([...a[o.JM.PLAYLIST_V2],...a[o.JM.PLAYLIST].map(_)]))}}return a}function _(e){const t=(0,o.EC)(e);return t?.type===o.JM.PLAYLIST?(0,o.FW)(t.id).toURI():e}var v=r(5229);const D=(0,l.createContext)(null);function O(){return(0,l.useContext)(D)}var k=r(6489),T=r(76391),w=r(27588),N=r(66393),Z=r(72138),L=r(97194),R=r(42781);const A={[k.XD.ALBUMS]:R.p.ALBUM,[k.XD.ARTISTS]:R.p.ARTIST,[k.XD.BOOKS]:R.p.AUDIOBOOK,[k.XD.EPISODES]:R.p.EPISODE,[k.XD.SHOWS]:R.p.SHOW,[k.XD.TRACKS]:R.p.TRACK};function F(e,t){const r=(0,l.useCallback)((({data:{list:r}})=>{M(e,A[r])&&t()}),[e,t]);(0,T.b)(k.EW.UPDATE,r),(0,T.b)(k.EW.UPDATE_PIN,t);const s=(0,l.useCallback)((()=>{M(e,R.p.PLAYLIST)&&t()}),[e,t]);(0,Z.iu)(s),function(e){(0,l.useEffect)((()=>{const t=(0,L.k)(),r=/^hm:\/\/collection\/ylpin\//;return t.matchMessages(r,e),()=>{t.unmatchMessages(r,e)}}),[e])}(t),function(e){const t=(0,l.useContext)(N.t),r=t.getEvents();(0,l.useEffect)((()=>(r.addListener(w.p.UPDATE,e),()=>{r.removeListener(w.p.UPDATE,e)})),[t,r,e])}(t)}function M(e,t){switch(e){case R.p.ALBUM:case R.p.ARTIST:case R.p.AUDIOBOOK:case R.p.SHOW:return e===t;case R.p.PLAYLIST:switch(t){case R.p.TRACK:case R.p.PLAYLIST:case R.p.EPISODE:return!0;default:return!1}default:return!0}}var P=r(96206),U=r(85670),B=r(32667),Y=r(34011),z=r(40771);const G="xi3ytXbuSuzCYy5LwjFu",J="OcOr6YadMDDeh_NPgClX",K="eL94fWmhg6WbrdKZfGEW";var V=r(85893);const W=(0,l.memo)((function(e){const{message:t,title:r,linkTitle:l,linkTo:s,onClick:i}=e;return(0,V.jsxs)("section",{className:G,children:[(0,V.jsxs)("div",{className:J,children:[(0,V.jsx)(B.D,{variant:"balladBold",semanticColor:"textBase",children:r}),(0,V.jsx)(B.D,{variant:"mesto",semanticColor:"textBase",children:t})]}),(0,V.jsx)("div",{className:K,children:l&&(s||i)&&(0,V.jsx)(Y.D,{className:K,as:i?"button":void 0,colorSet:"invertedLight",href:s,onClick:i,component:z.Z,children:l})})]})})),$=()=>{const{createPlaylist:e}=(0,U.K)(),t=(0,l.useCallback)((()=>{e()}),[e]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(W,{onClick:t,linkTitle:P.ag.get("web-player.your-library-x.empty-state-playlists-cta"),title:P.ag.get("web-player.your-library-x.empty-state-playlists-title"),message:P.ag.get("web-player.your-library-x.empty-state-playlists-subtitle")}),(0,V.jsx)(W,{linkTo:"/genre/podcasts-web",linkTitle:P.ag.get("web-player.your-library-x.empty-state-podcasts-browse"),title:P.ag.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:P.ag.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated")})]})},H="JouuH90_RNAdTj0ZjcCA",X="YtlFVHxvaGSz4vJdDdEa",Q="spFG_i1jkxOkxb1_SaLJ",q="_8ZKfG3dOxfcr9Yyy5cv",ee=({query:e})=>(0,V.jsxs)("div",{className:H,"data-testid":"no-search-results-view",children:[(0,V.jsx)(B.D,{as:"h1",variant:"cello",className:X,children:P.ag.get("web-player.your-library-x.empty-results-title-short").split(/(\{0\})/).map(((t,r)=>"{0}"===t?(0,V.jsx)("span",{className:Q,children:(0,V.jsx)("span",{className:q,children:e})},r):t))}),(0,V.jsx)(B.D,{as:"h2",variant:"mesto",children:P.ag.get("web-player.your-library-x.empty-results-text-short")})]});var te=r(21317);const re="yrUQENj0tMcKDW5v0mfb",le="jsT0vJ8rWXPMeoFsMdNK",se=({onClick:e})=>(0,V.jsxs)("div",{className:re,children:[(0,V.jsx)("div",{className:"icon",children:(0,V.jsx)(te.l,{iconSize:48,semanticColor:"textBase"})}),(0,V.jsxs)("div",{className:le,children:[(0,V.jsx)(B.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:P.ag.get("web-player.your-library-x.error-title")}),(0,V.jsx)(B.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:P.ag.get("web-player.your-library-x.error-body")})]}),(0,V.jsx)("div",{children:(0,V.jsx)(Y.D,{onClick:e,colorSet:"invertedLight",children:P.ag.get("web-player.your-library-x.error-button")})})]}),ie=({children:e})=>{const t=function(){const[e,t]=(0,v.z)("ylx-expanded-folders",[]),r=(0,l.useCallback)((t=>e.includes(t)),[e]),s=(0,l.useCallback)(((r,l)=>{const s=e.indexOf(r);if(l){if(-1!==s)return;t([...e,r])}else{if(-1===s)return;t(e.filter((e=>e!==r)))}}),[e,t]);return{expandedFolders:e,getIsFolderExpanded:r,setIsFolderExpanded:s}}();return(0,V.jsx)(D.Provider,{value:t,children:e})};var ae=r(12690),ne=r(34845),oe=r(58588),ce=r(55426);const de=e=>{(0,ae.ST)({onUpdate:t=>{e.style.opacity=t.toString()}})},ue=(e,t,r)=>((0,ae.ST)({onUpdate:t=>{e.style.opacity=(1-Number(t)).toString()},onComplete:r}),()=>{e.style.opacity="",r()}),xe=({hideEnteringElements:e,animateEnteringElements:t,animateExitingElements:r,animateFlippedElements:l})=>{e(),r(),l(),t()},ye="CVYEjtXcJcEl5Q7ca8dP",pe="BDbiNFdSkr8qT3OmaQki",me=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],ge=({availableFilters:e,selectedFilters:t,toggleFilterId:r,resetFilterIds:l})=>{const s=!(t||e),a=s?me:[...t??[],...e??[]],n={marginBlockEnd:0,willChange:"transform, opacity"};return(0,V.jsx)(ae.U5,{flipKey:a.map((e=>e.id)).join("|"),handleEnterUpdateDelete:xe,children:(0,V.jsxs)(ce.l,{className:ye,children:[!!t?.length&&(0,V.jsx)(ae.$3,{flipId:"clear-filter",onAppear:de,onExit:ue,translate:!0,opacity:!0,children:(0,V.jsx)(ne.w,{"aria-label":"Clear",onClick:l,style:n})},"clear-filter"),a.map(((e,a)=>{const o=t?.includes(e),c=0===a;return(0,V.jsx)(ae.$3,{flipId:e.id,onAppear:de,onExit:ue,translate:!0,opacity:!0,children:(0,V.jsx)(oe.A,{selected:o,selectedColorSet:"invertedLight",onClick:t=>{t.detail>1||s||(o&&c?l():r(e.id))},style:n,secondary:o&&!c,className:i()({[pe]:s}),children:e.name})},e.id)}))]})})};var he=r(52726),be=r(10316),Se=r(43031),Ie=r(51674),je=r(86025),fe=r(91556),Ee=r(32626),Ce=r(89869),_e=r(68378),ve=r(30005),De=r(21691);const Oe=function(){const{createPlaylist:e}=(0,U.K)(),{createFolder:t}=(0,Z.lh)();return(0,V.jsxs)(ve.v,{children:[(0,V.jsx)(De.s,{onClick:()=>{e()},role:"menuitem",icon:(0,V.jsx)(Ce.h,{iconSize:16}),iconPosition:"leading",children:P.ag.get("web-player.your-library-x.create.create-a-new-playlist")}),(0,V.jsx)(De.s,{onClick:()=>{t(P.ag.get("playlist.default_folder_name"),{before:"start"})},role:"menuitem",icon:(0,V.jsx)(_e.P,{iconSize:16}),iconPosition:"leading",children:P.ag.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},ke=({className:e=""})=>{const t=P.ag.get("web-player.your-library-x.create.button-label");return(0,V.jsx)(Ee.xV,{renderInline:!0,placement:"bottom-end",menu:(0,V.jsx)(Oe,{}),preventScrollingWhileOpen:!1,children:(r,l,s)=>(0,V.jsx)(Ie._,{label:t,children:(0,V.jsx)(je.o,{ref:s,iconOnly:fe.S,className:e,"aria-label":t,onClick:l,buttonSize:"sm"})})})},Te="main-yourLibraryX-header",we="cfEgZf65Pb9Y3oXTCa5t",Ne="OmqDCxM3eBsKgzz52iog",Ze="NOSYZF0TmDZ_F9lDYXMm",Le="rhqMPwAZpL0jMIdaueV6",Re="main-yourLibraryX-createButton",Ae=()=>{const{leftSidebarIsCollapsed:e}=(0,g.G)();return(0,V.jsxs)("header",{className:Te,children:[(0,V.jsx)(Ie._,{label:`${P.ag.get("web-player.your-library-x.your-library")}`,children:(0,V.jsxs)(Se.O,{to:"/collection",referrer:"your_library",className:we,activeClassName:Ze,"aria-label":"{i18n.get('web-player.your-library-x.your-library')}",isActive:(e,{pathname:t})=>t.startsWith("/collection"),children:[(0,V.jsx)(he.$,{className:Le}),(0,V.jsx)(be.n,{className:Ne})]})}),!e&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(B.D,{variant:"cello",semanticColor:"textBase",children:P.ag.get("web-player.your-library-x.your-library")}),(0,V.jsx)(ke,{className:Re})]})]})};var Fe=r(20632),Me=r(31514),Pe=r(38470),Ue=r(20963),Be=r(87379),Ye=r(67892),ze=r(37761),Ge=r(7469),Je=r(84242),Ke=r(39716);const Ve="xFfODpPkWh3RFEif2u_b",We="kv4Mj5FTpBW6fWD10NhI",$e="p2NI7AGpy5BWL6TSVIOb",He="zcFmKgU1VJFEt7QXEQ9N",Xe="uqcGV_T5xRcWDEMJoGNG",Qe="bBa8kRykLB_m3Ke1H6DV",qe="yOc9v5MGaitl1r9UpHKg",et="P2siDCCdfpelJSQDo7ov",tt="FkyWUNpA8nxp1j4RtQCv",rt="Z2BXDPtMtuJ9hFPs2DR_",lt="nKLGCHG03_iLOz_vnJ8f",st="aAMY8d14U96cX5AD4O98",it="Um4h5vvUjPQVwLR25iqA",at="gIJi66AeGZ3jykcSsybm",nt="dTsYnl_N2V_tron8rrSn",ot=({pinned:e})=>e?(0,V.jsx)(Ke.t,{semanticColor:"textBrightAccent",iconSize:16,title:P.ag.get("web-player.your-library-x.pinned"),className:st}):null;var ct=r(51615),dt=r(69518),ut=r.n(dt),xt=r(57784);const yt=(0,l.memo)((function({uri:e,folderDepth:t,dragLabel:r,children:s}){const{onDragEnter:a,onDragLeave:n}=function(e){const{setIsFolderExpanded:t}=O(),{push:r}=(0,ct.k6)(),s=(0,l.useRef)(0),i=(0,l.useRef)(null),a=(0,l.useCallback)((()=>{i.current&&(window.clearTimeout(i.current),i.current=null)}),[]);(0,l.useEffect)(a,[a]);const n=(0,l.useCallback)((()=>{0==--s.current&&a()}),[a]);return{onDragEnter:(0,l.useCallback)((()=>{1==++s.current&&(i.current=window.setTimeout((()=>{if((0,o.L0)(e))t(e,!0);else{const t=(0,o.EC)(e).toURLPath(!0);r(t)}}),1e3))}),[r,t,e]),onDragLeave:n}}(e),c=(0,ct.k6)(),{leftSidebarIsCollapsed:d}=(0,g.G)(),u=(0,l.useCallback)((()=>{const t=e,r=ut().from(t).toURLPath(!0);c.push(r)}),[c,e]),x=!!(0,ct.$B)((0,o.EC)(e)?.toURLPath(!0))?.isExact,y=(0,xt.O1)([e],r);return(0,V.jsx)(Fe.E,{style:{"--ylx-folder-depth":d?0:t},onDragStart:r?y:void 0,onDragEnter:a,onDragLeave:n,children:(0,V.jsxs)("div",{className:i()(Ve,{[We]:x}),children:[s,(0,V.jsx)("div",{className:$e,onClick:u,tabIndex:-1,role:"none"})]})})}));var pt=r(96314),mt=r(69691);const gt=({uri:e})=>{const{isPlaying:t}=(0,mt.cR)(e),{leftSidebarIsCollapsed:r}=(0,g.G)();return t&&!r?(0,V.jsx)(pt.d,{iconSize:16,semanticColor:"textBrightAccent"}):null},ht=({leading:e,subtitle:t})=>{const{leftSidebarIsCollapsed:r}=(0,g.G)();return r?null:(0,V.jsxs)("div",{className:et,children:[e,(0,V.jsx)(B.D,{variant:"mesto",semanticColor:"textSubdued",className:rt,children:t})]})};var bt=r(76542);const St=({uri:e,title:t})=>{const{isActive:r}=(0,mt.cR)(e),{leftSidebarIsCollapsed:l}=(0,g.G)();return(0,V.jsx)(Ye.r,{to:e,className:(0,bt.cx)(qe,{[nt]:l}),children:(0,V.jsx)(B.D,{variant:"mestoBold",semanticColor:r?"textBrightAccent":"textBase",className:(0,bt.cx)(qe,{[at]:l}),children:t})})},It=({libraryItem:e,shouldShowType:t})=>{const{uri:r,artists:s,images:i,name:a,pinned:n,type:o}=e,{togglePlay:c}=(0,Je.n)({uri:r},{featureIdentifier:"album",referrerIdentifier:"your_library"}),d=(0,l.useCallback)((()=>{c()}),[c]);return(0,V.jsx)(yt,{uri:r,dragLabel:a,children:(0,V.jsx)(Be.i,{onDoubleClick:d,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:i,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:o,title:a}),title:(0,V.jsx)(St,{uri:r,title:a}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:n}),(0,V.jsx)(Ue.$,{uri:r,size:16})]}),subtitle:(0,V.jsxs)(V.Fragment,{children:[t?`${P.ag.get("web-player.your-library-x.type-album")} • `:null,(0,V.jsx)(Ye.r,{to:s.at(0)?.uri??"",className:lt,children:s.at(0)?.name??""})]})}),trailing:(0,V.jsx)(gt,{uri:r})})})},jt=({libraryItem:e,shouldShowType:t})=>{const{uri:r,images:s,name:i,pinned:a,type:n}=e,{togglePlay:o}=(0,Je.n)({uri:r},{featureIdentifier:"artist",referrerIdentifier:"your_library"}),c=(0,l.useCallback)((()=>{o()}),[o]);return(0,V.jsx)(yt,{uri:r,dragLabel:i,children:(0,V.jsx)(Be.i,{onDoubleClick:c,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:s,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:n,title:i}),title:(0,V.jsx)(St,{uri:r,title:i}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:a}),(0,V.jsx)(Ue.$,{uri:r,size:16})]}),subtitle:t?P.ag.get("web-player.your-library-x.type-artist"):null}),trailing:(0,V.jsx)(gt,{uri:r})})})},ft=({libraryItem:e,shouldShowType:t})=>{const{uri:r,authorName:s,images:i,name:a,pinned:n,type:o}=e,{togglePlay:c}=(0,Je.n)({uri:r},{featureIdentifier:"audiobook",referrerIdentifier:"your_library"}),d=(0,l.useCallback)((()=>{c()}),[c]);return(0,V.jsx)(yt,{uri:r,dragLabel:a,children:(0,V.jsx)(Be.i,{onDoubleClick:d,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:i,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:o,title:a}),title:(0,V.jsx)(St,{uri:r,title:a}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:n}),(0,V.jsx)(Ue.$,{uri:r,size:16})]}),subtitle:(0,V.jsxs)(V.Fragment,{children:[t?`${P.ag.get("web-player.your-library-x.type-audiobook")} • `:null,s]})}),trailing:(0,V.jsx)(gt,{uri:r})})})};var Et=r(47921);const Ct=({libraryItem:e})=>{const{uri:t,folderDepth:r,name:s,numberOfFolders:a,numberOfPlaylists:n,pinned:o,type:c}=e,[d,u]=function(e){const{getIsFolderExpanded:t,setIsFolderExpanded:r}=(0,l.useContext)(D);return[(0,l.useMemo)((()=>t(e)),[t,e]),(0,l.useCallback)((t=>{r(e,t)}),[r,e])]}(t),x=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u(!d)}),[u,d]),{togglePlay:y}=(0,Je.n)({uri:t},{featureIdentifier:"folder",referrerIdentifier:"your_library"}),p=(0,l.useCallback)((()=>{y()}),[y]);return(0,V.jsx)(yt,{uri:t,folderDepth:r,dragLabel:s,children:(0,V.jsx)(Be.i,{onDoubleClick:p,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:void 0,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:c,title:s}),title:(0,V.jsx)(St,{uri:t,title:s}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsx)(ot,{pinned:o}),subtitle:[n>0||!a?P.ag.get("web-player.your-library-x.rows.folder.number-of-playlists",n):null,a>0?P.ag.get("web-player.your-library-x.rows.folder.number-of-folders",a):null].filter(I.K).join(P.ag.getSeparator())}),trailing:(0,V.jsx)(je.o,{"aria-label":P.ag.get("sidebar.expand_folder"),iconOnly:Et.i,buttonSize:"sm",condensedAll:!0,onClick:x,tabIndex:-1,className:i()(Xe,{[Qe]:d})})})})};var _t=r(86706),vt=r(29255);const Dt=({libraryItem:e,shouldShowType:t})=>{const{user:r}=(0,_t.v9)(vt.Gg),s=(0,o.wG)(r?.id).toURI(),{images:i,name:a,numberOfSongs:n,pinned:c,type:d,uri:u}=e,{togglePlay:x}=(0,Je.n)({uri:s},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),y=(0,l.useCallback)((()=>{x()}),[x]);return(0,V.jsx)(yt,{uri:u,children:(0,V.jsx)(Be.i,{onDoubleClick:y,onDragStart:e=>{e.preventDefault()},media:(0,V.jsx)(ze.O,{images:i,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:d,title:a}),title:(0,V.jsx)(St,{uri:s,title:a}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:c}),(0,V.jsx)(Ue.$,{uri:s,size:16})]}),subtitle:(0,V.jsxs)(V.Fragment,{children:[t?`${P.ag.get("web-player.your-library-x.type-playlist")} • `:null,P.ag.get("web-player.your-library-x.rows.liked-songs.subtitle",n)]})}),trailing:(0,V.jsx)(gt,{uri:s})})})};var Ot=r(97081),kt=r(74589),Tt=r(98620),wt=r(72131);const Nt=({libraryItem:e,shouldShowType:t})=>{const r=wt.b,{name:s,numberOfFiles:i,pinned:a}=e,{togglePlay:n}=(0,Je.n)({uri:r},{featureIdentifier:"local_files",referrerIdentifier:"your_library"}),o=(0,l.useCallback)((()=>{n()}),[n]);return(0,V.jsx)(yt,{uri:(0,Tt.gB)().uri,children:(0,V.jsx)(Be.i,{onDoubleClick:o,onDragStart:e=>{e.preventDefault()},media:(0,V.jsx)("div",{className:He,children:(0,V.jsx)(kt.S,{iconSize:24,title:s})}),title:(0,V.jsx)(St,{uri:r,title:s}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:a}),(0,V.jsx)(Ot.E,{iconSize:16,className:tt,semanticColor:"textBrightAccent"})]}),subtitle:`${t?`${P.ag.get("web-player.your-library-x.type-playlist")} • `:""}${P.ag.get("web-player.your-library-x.rows.local-files.subtitle",i)}`}),trailing:(0,V.jsx)(gt,{uri:r})})})},Zt=({libraryItem:e,shouldShowType:t})=>{const{uri:r,images:s,isLoading:i,folderDepth:a,name:n,owner:o,pinned:c,type:d}=e,u=(0,l.useContext)(Z.ZF);(0,l.useEffect)((()=>{i&&u.resync(r)}),[u,r,i]);const{togglePlay:x}=(0,Je.n)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}),y=(0,l.useCallback)((()=>{x()}),[x]);return(0,V.jsx)(yt,{folderDepth:a,uri:r,dragLabel:n,children:(0,V.jsx)(Be.i,{onDoubleClick:y,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:s,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:d,title:n}),title:(0,V.jsx)(St,{uri:r,title:n}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:c}),(0,V.jsx)(Ue.$,{uri:r,size:16})]}),subtitle:(0,V.jsxs)(V.Fragment,{children:[t?`${P.ag.get("web-player.your-library-x.type-playlist")} • `:null,o.uri?(0,V.jsx)(Ye.r,{to:o.uri,className:lt,children:o.name}):o.name]})}),trailing:(0,V.jsx)(gt,{uri:r})})})},Lt=({libraryItem:e,shouldShowType:t})=>{const{uri:r,images:s,name:i,pinned:a,publisher:n,type:o}=e,{togglePlay:c}=(0,Je.n)({uri:r},{featureIdentifier:"show",referrerIdentifier:"your_library"}),d=(0,l.useCallback)((()=>{c()}),[c]);return(0,V.jsx)(yt,{uri:r,dragLabel:i,children:(0,V.jsx)(Be.i,{onDoubleClick:d,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:s,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:o,title:i}),title:(0,V.jsx)(St,{uri:r,title:i}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:a}),(0,V.jsx)(Ue.$,{uri:r,size:16})]}),subtitle:(0,V.jsxs)(V.Fragment,{children:[t?`${P.ag.get("web-player.your-library-x.type-show")} • `:null,n]})}),trailing:(0,V.jsx)(gt,{uri:r})})})},Rt=({libraryItem:e})=>{const{user:t}=(0,_t.v9)(vt.Gg),r=(0,o.wG)(t?.id,"your-episodes").toURI(),{togglePlay:s}=(0,Je.n)({uri:r},{featureIdentifier:"episode",referrerIdentifier:"your_library"}),i=(0,l.useCallback)((()=>{s()}),[s]),{images:a,name:n,numberOfDownloadedEpisodes:c,pinned:d,type:u,uri:x}=e;return(0,V.jsx)(yt,{uri:x,children:(0,V.jsx)(Be.i,{onDoubleClick:i,onDragStart:()=>{},media:(0,V.jsx)(ze.O,{images:a,shape:ze.K.ROUNDED_CORNERS,size:Ge.m$.SIZE_48,type:u,title:n}),title:(0,V.jsx)(St,{uri:r,title:n}),subtitle:(0,V.jsx)(ht,{leading:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ot,{pinned:d}),c?(0,V.jsx)(Ot.E,{iconSize:16,className:tt,semanticColor:"textBrightAccent"}):null]}),subtitle:P.ag.get("web-player.your-library-x.subtitle-your-episodes")}),trailing:(0,V.jsx)(gt,{uri:r})})})},At=l.memo((function({libraryItem:e,primaryFilterEntityType:t}){switch(e.type){case R.p.FOLDER:return(0,V.jsx)(Ct,{libraryItem:e});case R.p.ALBUM:return(0,V.jsx)(It,{libraryItem:e,shouldShowType:t!==R.p.ALBUM});case R.p.ARTIST:return(0,V.jsx)(jt,{libraryItem:e,shouldShowType:t!==R.p.ARTIST});case R.p.AUDIOBOOK:return(0,V.jsx)(ft,{libraryItem:e,shouldShowType:t!==R.p.AUDIOBOOK});case R.p.SHOW:return(0,V.jsx)(Lt,{libraryItem:e,shouldShowType:t!==R.p.SHOW});case R.p.PLAYLIST:return(0,V.jsx)(Zt,{libraryItem:e,shouldShowType:t!==R.p.PLAYLIST});case R.p.LIKED_SONGS:return(0,V.jsx)(Dt,{libraryItem:e,shouldShowType:t!==R.p.PLAYLIST});case R.p.YOUR_EPISODES:return(0,V.jsx)(Rt,{libraryItem:e});case R.p.LOCAL_FILES:return(0,V.jsx)(Nt,{libraryItem:e,shouldShowType:t!==R.p.PLAYLIST});default:return(0,Pe._)(e),null}})),Ft=({height:e})=>(0,V.jsx)(Fe.E,{className:it,style:{height:e}}),Mt=({getItems:e,scrollNodeRef:t,primaryFilterEntityType:r,nrValidItems:s})=>{const i=(0,l.useCallback)((e=>(0,V.jsx)(At,{libraryItem:e,primaryFilterEntityType:r},e.uri)),[r]),a=(0,l.useCallback)(((e,t)=>(0,V.jsx)(Ft,{height:e},t)),[]),n=(0,l.useCallback)(((t,r)=>e(t,r).map(((e,r)=>e?i(e):a("64px",`${t+r}`)))),[e,i,a]);return(0,V.jsx)(Fe.A,{circular:!1,children:(0,V.jsx)(Me.V,{renderRows:n,nrRows:s,rowHeight:64,scrollNodeRef:t,renderPlaceholder:a})})};var Pt=r(76119);const Ut="RGofdOZulhL2p9MRA5hg",Bt=({sortOrders:e,activeSortOrderId:t,setActiveSortOrderId:r})=>{const l=e.find((e=>e.id===t))??e?.at(0);return(0,V.jsx)("div",{className:Ut,children:(0,V.jsx)(Pt.A,{options:e.map((({id:e,name:t})=>({key:e,value:t}))),onSelect:r,selected:{key:l?.id??"",value:l?.name??""},heading:P.ag.get("web-player.your-library-x.sort_by")})})};var Yt=r(4383),zt=r(98562);const Gt=({clearOnEscapeInElementRef:e})=>{const t=(0,Yt.y)();return(0,V.jsx)(zt.K,{placeholder:P.ag.get("web-player.your-library-x.search-text-field-placeholder"),clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:t?.getCapabilities().canTextFilterContentsInRealtime?0:void 0})},Jt="main-yourLibraryX-libraryContainer",Kt="_0FuodatXU4_fToYAuYtY",Vt="main-yourLibraryX-libraryItemContainer",Wt="main-yourLibraryX-libraryRootlist",$t="unAqeHoSe9nH3stoWpj2",Ht={items:[],totalLength:0},Xt=()=>{const{filter:e}=(0,l.useContext)(h.fo),{selectedFilterIds:t,resetFilterIds:r,toggleFilterId:s}=function(){const[e,t]=(0,v.z)("ylx-active-filter-ids",[]),r=(0,l.useCallback)((r=>{const l=new Set(e);l.has(r)?l.delete(r):l.add(r),t(Array.from(l))}),[e,t]),s=(0,l.useCallback)((()=>t([])),[t]);return{selectedFilterIds:e,resetFilterIds:s,toggleFilterId:r}}(),c=t?.[0],{selectedSortOrderId:p,setSelectedSortOrderId:S}=function(e){const[t,r]=(0,v.z)("ylx-active-sort-order-by-filter-id",{}),s=`${e}`;return{selectedSortOrderId:t[s],setSelectedSortOrderId:(0,l.useCallback)((e=>{r({...t,[s]:e})}),[s,t,r])}}(c),I=(0,l.useRef)(null),[j,f]=(0,l.useState)(null),{expandedFolders:_}=O(),D=(0,y.I)(),k=(0,l.useContext)(x.H),[T,w]=(0,l.useState)(!1),N=(0,l.useCallback)((e=>{const{[o.JM.TRACK]:t,[o.JM.ALBUM]:r,[o.JM.ARTIST]:l,[o.JM.EPISODE]:s,[o.JM.SHOW]:i,[o.JM.PLAYLIST_V2]:a}=e;t?.length&&k?.add(...t),r?.length&&k?.add(...r),l?.length&&k?.add(...l),s?.length&&k?.add(...s),i?.length&&k?.add(...i),a?.length&&k?.add(...a)}),[k]),{isActive:Z,onDragEnter:L,onDragLeave:R,onDragOver:A,onDrop:M}=function(e,t){const r=e.includes(o.JM.PLAYLIST_V2)&&!e.includes(o.JM.PLAYLIST),s=(0,b.NY)((()=>r?[...e,o.JM.PLAYLIST]:e),[e]),[i,a]=(0,l.useState)(!1),n=(0,l.useRef)(0),c=(0,l.useCallback)((e=>{E(e,s).length>0&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy"))}),[s]);return{isActive:i,onDragEnter:(0,l.useCallback)((e=>{E(e,s).length>0&&(e.preventDefault(),1==++n.current&&a(!0))}),[s]),onDragLeave:(0,l.useCallback)((e=>{E(e,s).length>0&&0==--n.current&&a(!1)}),[s]),onDragOver:c,onDrop:(0,l.useCallback)((e=>{const l=C(e,s,r);n.current=0;const i=e.defaultPrevented;e.preventDefault(),!i&&Object.keys(l).length&&t(l),a(!1)}),[s,r,t])}}([o.JM.TRACK,o.JM.ALBUM,o.JM.ARTIST,o.JM.PLAYLIST_V2,o.JM.SHOW,o.JM.EPISODE],N),{leftSidebarIsCollapsed:P}=(0,g.G)(),U=(0,l.useCallback)((async(l,s)=>{try{const r=await k.getContents({offset:l,limit:s,filters:t,sortOrder:p,textFilter:e,includeLocalFiles:D,includeYourEpisodes:!0,expandedFolders:_}),{offset:i,limit:n,items:o,...c}=r;return f((e=>(0,a.J)(c,e)?e:c)),r}catch(e){if(w(!0),e instanceof u.Ik)return r(),Ht;if(e instanceof u.j2)return S(void 0),Ht;throw e}}),[k,t,p,e,D,_,r,S]),B=!1===j?.hasUnfilteredItems,Y=j?.hasTextFilter&&0===j.totalLength&&""!==e,{getItems:z,nrValidItems:G,invalidateCache:J}=(0,d.Q)({nrItems:50,fetch:U,limit:50}),K=(0,n.y1)(J,200,{leading:!0,trailing:!0,maxWait:1e3});F(j?.primaryFilterEntityType,K);const W=(0,l.useCallback)((()=>{J(),w(!1)}),[J]),H=(0,l.useRef)(null),X=(0,V.jsx)(Mt,{getItems:z,scrollNodeRef:I,primaryFilterEntityType:j?.primaryFilterEntityType,nrValidItems:G});let Q;return Q=T?(0,V.jsx)(se,{onClick:W}):B?(0,V.jsx)($,{}):P?X:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ge,{selectedFilters:j?.selectedFilters,availableFilters:j?.availableFilters,toggleFilterId:s,resetFilterIds:r}),(0,V.jsxs)("div",{className:Kt,children:[(0,V.jsx)(Gt,{clearOnEscapeInElementRef:H}),(0,V.jsx)(Bt,{sortOrders:j?.availableSortOrders??[],activeSortOrderId:j?.selectedSortOrder?.id,setActiveSortOrderId:S})]}),Y&&(0,V.jsx)(ee,{query:e},"empty-search"),X]}),(0,V.jsxs)("div",{className:i()(Jt,{[$t]:Z}),ref:H,onDragEnter:L,onDragLeave:R,onDragOver:A,onDrop:M,children:[(0,V.jsx)(Ae,{}),(0,V.jsx)(m.U,{className:Vt,ref:e=>{e&&!I.current&&(I.current=e.osInstance().getElements().viewport)},options:{scrollbars:{autoHide:"leave"}},children:(0,V.jsx)("div",{className:Wt,children:Q})})]})},Qt=()=>(0,V.jsx)(c.L,{onError:e=>{(0,p.vK)(e,"YourLibraryX")},children:(0,V.jsx)(h.hz,{uri:"spotify:collection",children:(0,V.jsx)(ie,{children:(0,V.jsx)(Xt,{})})})})},37761:(e,t,r)=>{r.d(t,{O:()=>f,K:()=>j});var l=r(67294),s=r(94184),i=r.n(s),a=r(89104),n=r(7469);const o="g3kBhX1E4EYEC2NFhhxG",c="O5_0cReFdHe81E0xFAD1",d="H71KtIrytVayf_dFofu7",u="SBpny8HrUTBzSjk7Vtk1",x="CxurIfvXVb_TqGF4q8Yf",y="OadpZJiOaGfX6Qp4j6n5",p="iJp40IxKg6emF6KYJ414",m="vreceNX3ABcxyddeS83B",g="Ozitxbqs1vcOukDz3GDw",h="AeEoI6ueagbJtaHl2cRd";var b=r(49343),S=r(85893);const I=({title:e,type:t,className:r})=>(0,S.jsx)("div",{"aria-label":e,className:i()(g,r),children:(0,S.jsx)(b.t,{type:t,className:h})});let j;!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(j||(j={}));const f=(0,l.memo)((function({loadingMode:e="lazy",type:t,title:r,images:l=[],shape:s=j.SQUARE,size:g=n.m$.SIZE_56,className:h,onContextMenu:b=(()=>{}),onTouchStart:f=(()=>{}),onTouchEnd:E=(()=>{})}){const C=function(e=[]){const t=e.filter((e=>Boolean(e.width))),r=t.filter((e=>e.url&&e.width&&e.width>=n.eM[n.m$.SIZE_56])).sort(((e,t)=>e.width-t.width));return r.length?r:t}(l),_=C.length>0?C[0].url:"",v=C.map((({url:e,width:t})=>`${e} ${t/2}w, ${e} ${t}w`)).join(", "),D=()=>({[o]:n.pj.includes(g),[c]:n.wL.includes(g),[d]:n.VZ.includes(g),[u]:n.B_.includes(g)});return(0,S.jsx)("div",{className:i()(m,h),onContextMenu:b,onTouchStart:f,onTouchEnd:E,style:{width:`${n.eM[g]}px`,height:`${n.eM[g]}px`},children:(0,S.jsx)(a.E,{loading:e,src:_,alt:r,ariaHidden:!0,className:i()(p,{[y]:s===j.CIRCLE,[x]:s===j.SQUARE,...D()}),srcSet:v||void 0,testid:"entity-image",children:(0,S.jsx)(I,{title:r,type:t,className:i()({[y]:s===j.CIRCLE,[x]:s===j.SQUARE,...D()})})})})}))},7469:(e,t,r)=>{let l;r.d(t,{B_:()=>o,VZ:()=>n,eM:()=>s,m$:()=>l,pj:()=>i,wL:()=>a}),function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(l||(l={}));const s={[l.SIZE_48]:48,[l.SIZE_56]:56,[l.SIZE_64]:64,[l.SIZE_72]:72,[l.SIZE_80]:80,[l.SIZE_96]:96,[l.SIZE_104]:104,[l.SIZE_112]:112,[l.SIZE_120]:120,[l.SIZE_128]:128,[l.SIZE_136]:136,[l.SIZE_144]:144,[l.SIZE_152]:152,[l.SIZE_160]:160,[l.SIZE_168]:168,[l.SIZE_176]:176,[l.SIZE_184]:184,[l.SIZE_200]:200,[l.SIZE_232]:232},i=[l.SIZE_48,l.SIZE_56,l.SIZE_64],a=[l.SIZE_72,l.SIZE_80,l.SIZE_96,l.SIZE_104,l.SIZE_112,l.SIZE_120,l.SIZE_128],n=[l.SIZE_136,l.SIZE_144,l.SIZE_152,l.SIZE_160,l.SIZE_168,l.SIZE_176],o=[l.SIZE_184,l.SIZE_200,l.SIZE_232]},91389:(e,t,r)=>{r.d(t,{I:()=>s});var l=r(30302);function s(){return(0,l.S)()[0]}}}]);
//# sourceMappingURL=xpui-routes-your-library-x.js.map