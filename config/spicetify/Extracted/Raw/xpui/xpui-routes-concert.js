"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{22578:(e,t,a)=>{a.d(t,{$:()=>g});var r=a(64593),n=a(96206),i=a(69691),s=a(8341),c=a(89952),o=a(67294),l=a(51615),d=a(24183);var h=a(85893);function m(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const g=({children:e,usePlayingItem:t})=>{let a=m(e);(e=>{const{mainLandmarkRef:t}=(0,d.Oh)(),a=(0,l.k6)(),r=a.location?.state?.preventMoveFocus,n=(0,o.useRef)(a.length<2);n.current=a.length<2,(0,o.useEffect)((()=>{const a=t.current;!r&&!n.current&&a&&e&&(a.setAttribute("aria-label",e),a.focus())}),[e,t,r])})(e);const{isPlaying:g}=(0,i.IK)(),u=(0,s.Y)((e=>e?.item));return u&&(g||t)&&((0,c.G_)(u)?a=[u.name,u.artists.map((e=>e.name)).join(n.ag.getSeparator())].join(" • "):(0,c.iw)(u)?a=[u.name,u.show.name].join(" • "):(0,c.k6)(u)&&(a=m(n.ag.get("ad-formats.advertisement")))),(0,h.jsx)(r.q,{defaultTitle:"Spotify",defer:!1,children:(0,h.jsx)("title",{children:a})})}},70369:(e,t,a)=>{a.d(t,{$:()=>r.$});var r=a(22578)},64697:(e,t,a)=>{a.d(t,{Z:()=>N});var r=a(67294),n=a(32667),i=a(96206),s=a(67892),c=a(40169),o=a(43315),l=a(42095),d=a(74949);const h="MUiWCNTfb6FcSwVPvQ1V",m="UAk3bMhekwJTV_wIyfsT",g="QHo82lWWkjoCkDa6baB3",u="X9w6LPfKsZHMCs38sVIQ",x="NXn5KjeUOjLGlAfS1Gao",j="N0wgFMDDvCiby4QB5kLJ",p="nloNe2BLRHjz9dxlwfLU",y="JzXND83mXvcEuntCNR34",f="GR08E4L_rOGljyQQX30R";var v=a(85893);const N=(0,r.memo)((e=>{const{concert:t,isVirtual:a,onClick:r}=e,{venue:N,location:D}=t,_=t.artists[0],k=(0,l.CH)(t.startDate.localDate);return(0,v.jsxs)(s.r,{to:`/concert/${t.id}`,className:h,onClick:r,children:[_.imageUri&&(0,v.jsx)(c.Z,{children:(0,v.jsx)("div",{role:"img",className:f,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${_.imageUri})`}})}),(0,v.jsx)("time",{className:m,dateTime:t.startDate.localDate,children:(0,v.jsx)(n.D,{as:"h5",variant:"minuetBold",className:g,children:(0,l.jx)(k)})}),(0,v.jsxs)("div",{className:u,dir:"auto",children:[(0,v.jsxs)(n.D,{as:"h2",className:y,variant:"minuetBold",children:[(0,o.FO)(k)," • ",(0,l.hK)(k)]}),(0,v.jsx)(n.D,{as:"h2",variant:"cello",weight:"bold",className:x,children:(0,d.ij)(t)}),(0,v.jsx)("div",{className:j,children:(0,v.jsx)(n.D,{as:"h2",className:p,variant:"mesto","data-testid":"location-name",children:a?N:[N,D].join(i.ag.getSeparator())})})]})]})}))},54306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ke});var r=a(88767),n=a(51615),i=a(96206),s=a(6158),c=a(87961),o=a(42881),l=a(67294),d=a(32667),h=a(24935),m=a(95888),g=a(70369),u=a(60289),x=a(59482),j=a(72907),p=a(37081),y=a(15852),f=a(42095),v=a(74949),N=a(5266),D=a(48690),_=a(30005),k=a(42922),b=a(60775),C=a(98121),w=a(21366),S=a(85893);const P=l.memo((function({uri:e}){const{spec:t}=(0,b.T)(e);return(0,S.jsx)(k.ZP,{value:"concert",children:(0,S.jsxs)(_.v,{children:[(0,S.jsxs)(w.q,{children:[(0,S.jsx)(C.Jx,{spec:t,uri:e,displayText:i.ag.get("context-menu.copy-concert-link")}),(0,S.jsx)(C.W2,{spec:t,uri:e})]}),(0,S.jsx)(C.h$,{spec:t,uri:e})]})})}));var I=a(67892),L=a(26492),U=a(32626),$=a(81860),F=a(25678);const A="YpfopxY2udneDY34uzRN",K="KI_0F1jtTR5tWgl7gZ1E",T="gKtc3TdowDTXBaVESi1D",E="V8TIr8yJq4tYZfPEzm12",M="VvL91cIRcCi1hJh0K845",O="vKcnOO1GNYoLKHg4T4lK",V="LdW0YNvo_Y77hgqhL4zY",Z="cTkykhjfHxkEGKbxSxXw",R="XgeTnLs82tTjczDR6oKn",Y="P3fE7wn6Tqnibn3gljKV",H="A8LG_5Dvp7IiXDtdR571",z="OVY7plwgy_AKAzhgoCAF",G="O0PSSw8ttrMn9lzq_L16",Q="FtDMCmLKQUjVntZJ3OiI",J="D_ffrfn62aOgZKOFfZVr",W="OH4mOZCual2ejIodzIkL",q="se_ixDV6hBf7lve861oU",B="YDAJHPP5lDmg71SdvJZC",X="lKQxSRsi8KcoYx5D7mjh",ee=(0,l.memo)((e=>{const{concert:t,onClick:a}=e,{category:r,venue:n,location:i,lat:s,lon:c}=t;if("ONLINE"===r)return(0,S.jsx)(d.D,{as:"h3",variant:"canon",children:n});const o=new URL("https://maps.google.com/");return o.searchParams.set("q",`${n},${i}`),o.searchParams.set("ll",`${s},${c}`),(0,S.jsx)(I.Z,{to:o.href,target:"_blank",onClick:()=>a(o.href),children:(0,S.jsxs)(d.D,{as:"h3",variant:"canon",children:[n,", ",i]})})})),te=(0,l.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:a,entitySpec:r}=e,n=(0,l.useMemo)((()=>r.ticketProviderListFactory()),[r]),s=(0,y.$P)(),c=(0,y.Wi)(n),o=(0,f.CH)(t.date),h=`spotify:concert:${t.id}`,m=(0,L.o)();if(0===t.ticketers.length)return null;if((0,f.OF)(t.date))return(0,S.jsxs)("div",{className:V,children:[(0,S.jsx)(d.D,{as:"h3",variant:"canon",children:i.ag.get("concert_event_ended")}),(0,S.jsx)(d.D,{variant:"ballad",children:(0,S.jsx)(I.Z,{to:"spotify:concerts",children:i.ag.get("concert_past_message")})})]});return(0,S.jsxs)("div",{className:V,ref:c,children:[(0,S.jsx)(d.D,{as:"h3",variant:"canon",children:(0,S.jsx)(ee,{concert:t,onClick:e=>{const t=r.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});s.logInteraction(t)}})}),(0,S.jsxs)(d.D,{as:"h3",variant:"mesto",className:B,children:[(0,f.xE)(o)," • ",(0,f.hK)(o)]}),(0,S.jsx)(d.D,{as:"h3",className:O,variant:"mesto",children:(g=t.ticketers,0===g.length?null:1===g.length?i.ag.get("concert.header.tickets_from_1",g[0].partnerDisplayName):2===g.length?i.ag.get("concert.header.tickets_from_2",g[0].partnerDisplayName,g[1].partnerDisplayName):3===g.length?i.ag.get("concert.header.tickets_from_3",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName):i.ag.get("concert.header.tickets_from_4",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName,g.length-3))}),a&&(0,S.jsx)(d.D,{as:"h3",className:O,variant:"mesto",children:a}),(0,S.jsx)(U.yj,{menu:(0,S.jsx)(P,{uri:h}),onShow:()=>{const e=r.contextMenuButtonFactory().hitUiReveal();s.logInteraction(e)},children:(0,S.jsx)(D.z,{size:32,className:Q})}),(0,S.jsx)(d.D.h3,{variant:"canon",children:i.ag.get("concert.header.available_tickets_from")}),(0,S.jsx)("div",{className:Z,children:t.ticketers.map(((e,t)=>(0,S.jsxs)(I.Z,{to:e.url,className:R,onClick:()=>{const a=n.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});s.logInteraction(a),m({targetUri:h,intent:"find-concert",type:"click"})},children:[(0,S.jsx)("div",{className:Y,children:(0,S.jsx)(F.Ee,{loading:"eager",srcSet:e.imageURL,src:e.imageURL,height:"100%",width:"100%",children:(0,S.jsx)(N.i,{className:H,iconSize:24})})}),(0,S.jsxs)("div",{className:G,children:[(0,S.jsx)(d.D.span,{children:e.partnerDisplayName}),(0,S.jsx)($.h,{className:z,iconSize:24})]})]},e.url)))})]});var g}));a(57658);var ae=a(3634),re=a(19480),ne=a(34722),ie=a(40169);const se="bnxKFmECExdcmyBXx9f_",ce="UrPgHWUndGwAWPfONuwd",oe="pF2W693VDIpPdVTVCsDg",le="YGVuy3Qzaam0CJPc_s4K",de="r5Kj2xQVLHK0hf_J00US",he="qCN2f5PHVrzAPLvQ0lNc",me=(0,l.memo)((e=>{const{entity:t,headliner:a,onClick:r}=e,{imageUri:n,name:s,uri:c}=t;return(0,S.jsxs)(I.r,{to:c,className:se,onClick:r,children:[n?(0,S.jsx)(ie.Z,{children:(0,S.jsx)("div",{"data-testid":"image-container",className:he,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${n})`}})}):null,(0,S.jsxs)("div",{className:ce,children:[a&&(0,S.jsx)("div",{className:le,children:(0,S.jsx)(d.D,{as:"h4",variant:"minuet",className:de,weight:"bold",children:i.ag.get("concert.label.headliner")})}),(0,S.jsx)(d.D,{as:"h2",variant:"alto",className:oe,children:s})]})]})})),ge=me,ue=(0,l.memo)((e=>{const{artist:t,albums:a,position:r,lineupArtistsSpec:n}=e,s=(0,l.useMemo)((()=>n.artistRowFactory({position:r,uri:t.uri})),[n,r,t.uri]),c=(0,y.$P)(),o=0===r,d=`${(0,ne.GJ)(t.id)}:discography`;return(0,S.jsx)(k.ZP,{value:"headered-grid",index:r,children:(0,S.jsx)(y.Nh,{spec:s||null,children:(0,S.jsx)(re.P,{title:o?i.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:d,seeAllLabel:i.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=s.seeDiscographyLinkFactory().hitUiNavigate({destination:d});c.logInteraction(e)},children:[(0,S.jsx)(ge,{entity:t,headliner:o,onClick:()=>{const e=s.artistCardFactory().hitUiNavigate({destination:t.uri});c.logInteraction(e)}},`ConcertArtistCard-${t.id}`),null,...a.map(((e,a)=>(0,S.jsx)(ae.r,{index:a,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},t.uri)})),xe=(0,l.memo)((e=>{const{albums:t,artists:a,entitySpec:r}=e,n=(0,l.useMemo)((()=>r.lineupArtistsFactory()),[r]),i=(0,y.Wi)(n),s=(0,l.useMemo)((()=>{const e={};return t.forEach((t=>{const a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,S.jsx)("div",{className:J,ref:i,"data-testid":"concert-lineup",children:a.map(((e,t)=>(0,S.jsx)(ue,{artist:e,albums:s[e.name]||[],position:t,lineupArtistsSpec:n},e.uri)))})}));var je=a(64697);const pe="y4xsX4QR_wfM40vOhsQ4",ye="TPdGbM0PhSqxmhkxP9n2",fe="y33j8HV43EGq3BPkZrLA",ve=(0,l.memo)((e=>(0,S.jsxs)(I.r,{to:"spotify:concerts",className:pe,onClick:e.onClick,children:[(0,S.jsx)(ie.Z,{children:(0,S.jsx)("div",{className:fe,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,S.jsx)("div",{className:ye,children:(0,S.jsx)(d.D,{as:"h2",variant:"canon",children:i.ag.get("concerts_browse_more")})})]}))),Ne=(0,l.memo)((e=>{const t=(0,l.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),a=(0,y.$P)(),r=(0,y.Wi)(t),n=e.upcomingConcerts;if(!n||n.length<1)return null;const s=n.map(((e,r)=>{const n=`spotify:concert:${e.concert.id}`;return(0,S.jsx)(je.Z,{concert:e.concert,onClick:()=>{const e=t.concertCardFactory({position:r,uri:n}).hitUiNavigate({destination:n});a.logInteraction(e)}},e.concert.id)}));return(0,S.jsx)("div",{className:q,ref:r,"data-testid":"concert-recommendations",children:(0,S.jsx)(k.ZP,{value:"headered-grid",children:(0,S.jsxs)(re.P,{title:i.ag.get("concerts_more_events"),total:n.length+1,className:X,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:i.ag.get("view.see-all"),children:[(0,S.jsx)(ve,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),s]})})})})),De=(0,l.memo)((e=>{const{data:t}=e,{artists:a,albums:r,upcomingConcerts:n}=t,i=t.concert.concert,{spec:s}=(0,y.fU)(h.createDesktopConcertEntityEventFactory,{data:{identifier:i.id,uri:`spotify:concert:${i.id}`}});return(0,p.Y)(t.color),(0,S.jsxs)("section",{className:E,children:[(0,S.jsx)(g.$,{children:(0,v.Yl)(i)}),(0,S.jsxs)(u.gF,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,S.jsxs)(u.sP,{children:[(0,S.jsx)(u.T0,{children:(0,S.jsx)("div",{className:A,children:(0,S.jsx)(d.D,{as:"h3",variant:"canon",className:K,children:(0,f.jx)((0,f.CH)(i.date))})})}),(0,S.jsx)(u.xd,{children:(0,v.Yl)(i)})]}),(0,S.jsx)(x.W,{children:(0,S.jsx)("div",{className:W,children:(0,S.jsx)(j.i,{text:(0,v.Yl)(i)})})})]}),(0,S.jsxs)("div",{className:T,children:[(0,S.jsx)(m.I,{backgroundColor:t.color}),(0,S.jsxs)("div",{className:M,children:[(0,S.jsx)(te,{concert:i,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:s}),(0,S.jsx)(xe,{artists:a,albums:r,entitySpec:s}),(0,S.jsx)(Ne,{upcomingConcerts:n,entitySpec:s})]})]})]})})),_e=async e=>{const[t,a]=e.queryKey;return(await(0,o.getConcert)(c.b.getInstance(),a)).body},ke=()=>{const{concertId:e}=(0,n.UO)(),{data:t,isLoading:a}=(0,r.useQuery)(["concert",e],_e,{staleTime:6e5});return a?(0,S.jsx)(s.h,{hasError:!1,errorMessage:""}):t?(0,S.jsx)(De,{data:t}):(0,S.jsx)(s.h,{hasError:!0,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}},42095:(e,t,a)=>{a.d(t,{Bc:()=>m,CH:()=>n,FO:()=>o,OF:()=>g,dC:()=>d,hK:()=>h,jw:()=>s,jx:()=>l,wf:()=>c,xE:()=>i});var r=a(96206);const n=e=>24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e),i=e=>r.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),s=e=>r.ag.formatDate(e,{month:"short"}),c=e=>r.ag.formatDate(e,{day:"numeric"}),o=e=>r.ag.formatDate(e,{weekday:"short"}),l=e=>r.ag.formatDate(e,{month:"short",day:"numeric"}),d=e=>r.ag.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),h=e=>r.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),m=(e,t)=>{if(e.toDateString()===t.toDateString())return i(e);if(e.getMonth()===t.getMonth()){return`${r.ag.formatDate(e,{day:"numeric",month:"short"})}–${r.ag.formatDate(t,{day:"numeric"})}`}return`${r.ag.formatDate(e,{day:"numeric",month:"short"})}–${r.ag.formatDate(t,{day:"numeric",month:"short"})}`},g=e=>{const t=new Date(e);return new Date>t}},74949:(e,t,a)=>{a.d(t,{M3:()=>l,Yl:()=>o,ij:()=>s});var r=a(96206);const n=e=>!!e.title&&(e.festival||!e.artists.length),i=e=>e.artists.map((e=>e.name)),s=e=>{if(n(e))return e.title;const t=i(e);return 1===t.length?r.ag.get("concert.header.upcoming_concert_title_1",...t):2===t.length?r.ag.get("concert.header.upcoming_concert_title_2",...t):3===t.length?r.ag.get("concert.header.upcoming_concert_title_3",...t):4===t.length?r.ag.get("concert.header.upcoming_concert_title_4",...t):t.length>4?r.ag.get("concert.header.upcoming_concert_title_more",...t):""},c=e=>1===e.length?r.ag.get("concert.header.entity_title_1",...e):2===e.length?r.ag.get("concert.header.entity_title_2",...e):3===e.length?r.ag.get("concert.header.entity_title_3",...e):4===e.length?r.ag.get("concert.header.entity_title_4",...e):e.length>4?r.ag.get("concert.header.entity_title_more",...e):"",o=e=>{if(n(e))return e.title;const t=i(e);return c(t)},l=e=>{if(e.title&&(e.festival||!e?.artists?.items?.length))return e.title;const t=e.artists.items.map((e=>e.profile.name));return c(t)}},34722:(e,t,a)=>{a.d(t,{B$:()=>s,GJ:()=>n,Hr:()=>r,qo:()=>i});a(57658);const r=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],n=e=>`spotify:app:artist:${e}`,i=e=>`spotify:artist:${e}`,s=(e,t,a)=>({artists:[{uri:t,name:a}],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo})}}]);
//# sourceMappingURL=xpui-routes-concert.js.map