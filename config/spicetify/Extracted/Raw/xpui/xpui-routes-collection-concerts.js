"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{85967:(e,n,t)=>{t.d(n,{u:()=>p});var s=t(59496),a=t(84875),o=t.n(a),i=t(65748),c=t(73549),r=t(61873),l=t(87088);const d="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",v="mxmxS0y8LiwSs5nueKPT",h="GXxVAveNFStY3pBI_NO4",u="eHcXC2s97InYP7rMNT0H";var g=t(4637);const p=(0,s.memo)((function(e){const{children:n,message:t,title:s,linkTitle:a,linkTo:p,onClick:x,renderInline:j=!1}=e,{isXSOnly:N,isSMOnly:y}=(0,r.e)(),f=N||y;return(0,g.jsxs)("section",{className:o()(d,{[m]:j}),children:[n,(0,g.jsx)(i.D,{as:"h1",variant:f?"cello":"alto",className:h,children:s}),(0,g.jsx)(i.D,{variant:f?"mesto":"ballad",className:u,children:t}),a&&(p||x)&&(0,g.jsx)(c.D,{colorSet:"invertedLight",className:v,href:p,onClick:x,component:l.Z,children:a})]})}))},92332:(e,n,t)=>{t.d(n,{Z:()=>y});var s=t(59496),a=t(65748),o=t(60378),i=t(9719),c=t(66630),r=t(63355),l=t(25362),d=t(40343);const m="MUiWCNTfb6FcSwVPvQ1V",v="UAk3bMhekwJTV_wIyfsT",h="X9w6LPfKsZHMCs38sVIQ",u="NXn5KjeUOjLGlAfS1Gao",g="N0wgFMDDvCiby4QB5kLJ",p="nloNe2BLRHjz9dxlwfLU",x="JzXND83mXvcEuntCNR34",j="GR08E4L_rOGljyQQX30R";var N=t(4637);const y=(0,s.memo)((e=>{const{concert:n,isVirtual:t,onClick:s}=e,{venue:y,location:f}=n,b=n.artists[0],_=(0,l.CH)(n.startDate.localDate);return(0,N.jsxs)(i.Link,{to:`/concert/${n.id}`,className:m,onClick:s,children:[b.imageUri&&(0,N.jsx)(c.Z,{children:(0,N.jsx)("div",{role:"img",className:j,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${b.imageUri})`}})}),(0,N.jsx)("time",{className:v,dateTime:n.startDate.localDate,children:(0,N.jsx)(a.D,{as:"h5",variant:"mestoBold",children:(0,l.jx)(_)})}),(0,N.jsxs)("div",{className:h,dir:"auto",children:[(0,N.jsxs)(a.D,{as:"h2",className:x,variant:"mesto",children:[(0,r.FO)(_)," • ",(0,l.hK)(_)]}),(0,N.jsx)(a.D,{as:"h2",variant:"cello",weight:"bold",className:u,children:(0,d.ij)(n)}),(0,N.jsx)("div",{className:g,children:(0,N.jsx)(a.D,{as:"h2",className:p,variant:"mesto","data-testid":"location-name",children:t?y:[y,f].join(o.ag.getSeparator())})})]})]})}))},81457:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Re});var s=t(59496),a=t(84875),o=t.n(a),i=t(90641),c=t(92053),r=t(76229),l=t(42197),d=t(22630),m=t(55274),v=t(94921),h=t(65748),u=t(69062),g=t(51630),p=t(60378),x=t(56916),j=t(37611),N=t(26553),y=t(65476),f=t(35841),b=t(77741),_=t(82220),k=t(75387),C=t(72254),I=t(21015);const w=async()=>(await(0,I.getSavedConcertsHub)(C.b.getInstance())).body,S=e=>{const[n,{isAnonymous:t,geonameId:s}]=e.queryKey;return(async(e,n)=>{const t=e?(0,I.getConcertsHub)(C.b.getInstance(),void 0,n):(0,I.getConcertsForUser)(C.b.getInstance(),n);return(await t).body})(t,s)},D=/^(\d+)/,F=(e,n)=>{const t=(()=>{const{location:e}=(0,c.UO)(),[,n]=e?.match(D)||[];if(n)try{return parseInt(n,10)}catch(e){return}})(),[s]=(0,r.lr)();return"saved"===s.get("filter")&&n&&!e?{type:"saved"}:{type:"recommended",geonameId:t}};var O=t(62256);const U="MVPegsivznZB6gdkcnkH",G="MlK79hskRbFrN2OBjMkl",L="VxaXFH9Uq1NU0LtsVhIu",H="UDVDNa40iTSPS9uHCG7Q",M="ofURwIKv0qEXJGTraIis",E="RLoSoo6mmRgHfwNfLxAj",T="fN_lJHkYih9H3j9YSEzS",A="LOJZO2MnGW5dCIawF767",W="tyc7QRlEJigVFIAeLGOB",B="PoljWhTLU3MKqIx2gSPY",R="ajxCNAuBJSgYfKUUBWBT",P="WR2h2Li5XTrBn_Rdme_k";var Z=t(39493),X=t(5297),$=t(46819),z=t(1455),J=t(91943),K=t(87940),Q=t(9719),V=t(25362),Y=t(40343);const q="cELOd04or4B6BbTbNWA7",ee="CHJYbX33oDik9u4n4ohH",ne="woQ0wEe6FL4lsGW05bsb",te="KTDREr8pDWjrmnzXzZ2z",se="UUTvdEOH2v_rejoXdl9Z",ae="cBbTozR921ppaoNZP0Uh",oe="SNyyQ0t_VvlWzzB9li7v",ie="lwO4iko6mhCUgZN1s9AW",ce="akvZI06vqHOow1pOL29J",re="WWZp3WM0maWJzl2qWEHE",le="YdkAHxbDekz9SiAxHG6M",de="AK37djOBJ2BuJOGuG1kQ",me="JfYURQbEA_ntMsMZV6tK",ve="du0mOGaZfHg3hsHwRMIu",he="Rvzy4ltiiHIp9mvlxf0c";var ue=t(4637);const ge=(0,s.memo)((e=>{const{concert:n,position:t,modalSpec:a}=e,{id:o,venue:i,location:c}=n,r=n.startDate.localDate,l=(0,V.CH)(r),d="ONLINE"===n.category,m=(0,s.useMemo)((()=>a?.eventRowFactory({position:t,uri:`spotify:concert:${n.id}`})),[a,t,n]),v=(0,b.$P)();return(0,ue.jsxs)(Q.Link,{to:`/concert/${n.id}`,className:ie,onClick:()=>{m&&v.logInteraction(m.hitUiNavigate({destination:`/concert/${o}`}))},children:[(0,ue.jsxs)("div",{className:ce,"aria-hidden":!0,children:[(0,ue.jsx)(h.D,{as:"h5",variant:"mestoBold",className:re,children:(0,V.jw)(l)}),(0,ue.jsx)(h.D,{as:"h1",variant:"cello",className:le,children:(0,V.wf)(l)})]}),(0,ue.jsxs)("div",{className:de,children:[(0,ue.jsx)(h.D,{as:"div",variant:"violaBold",className:me,"data-testid":"event-title",children:(0,Y.Yl)(n)}),(0,ue.jsx)(X.T,{children:(0,V.jx)(l)}),(0,ue.jsxs)(h.D,{as:"div",variant:"viola",className:ve,children:[(0,V.FO)(l)," • ",(0,V.hK)(l)]}),(0,ue.jsx)(h.D,{as:"div",variant:"viola",className:he,"data-testid":"event-venue",children:d?i:[i,c].join(p.ag.getSeparator())})]})]},n.id)})),pe=(0,s.memo)((e=>{const{event:n,locationName:t,onClose:a,feedSpec:o}=e,i=n?.concerts[0]?.concert,c=i?.artists[0],r=(0,s.useMemo)((()=>o?.groupedEventModalFactory({uri:c?.uri||""})),[o,c]),l=(0,b.$P)(),d=(0,b.Wi)(r);if(!n||!i||!c)return null;const m=()=>{r&&l.logInteraction(r.closeButtonFactory().hitUiHide()),a()};return(0,ue.jsx)(K.Z,{contentLabel:p.ag.get("live_events.label"),isOpen:!0,className:q,onRequestClose:m,children:(0,ue.jsxs)("section",{className:ee,ref:d,children:[(0,ue.jsx)("div",{className:ne,children:(0,ue.jsx)(xe,{"aria-label":p.ag.get("close"),iconOnly:$.k,buttonSize:"sm",onClick:m})}),(0,ue.jsxs)("div",{className:te,children:[(0,ue.jsx)(z.E,{height:"48",width:"48",className:se,src:c.imageUri}),(0,ue.jsxs)("div",{className:ae,children:[(0,ue.jsx)(h.D,{as:"h3",variant:"cello",className:oe,"data-testid":"event-venue",children:c.name}),(0,ue.jsx)(h.D,{as:"h3",variant:"mesto","data-testid":"event-venue",children:`${p.ag.get("concerts.count_near_location",n.concerts.length,t)}`})]})]}),n.concerts.map(((e,n)=>(0,ue.jsx)(ge,{concert:e.concert,position:n,modalSpec:r},e.concert.id)))]})})}));var xe=(0,Z.ZP)(J.o).withConfig({displayName:"ConcertFeedGroupedModal___StyledButtonTertiary",componentId:"sc-1o845wh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),je=t(85967),Ne=t(37277),ye=t(10196),fe=t(78061),be=t(58767),_e=t(92332),ke=t(66630);const Ce="pU4WoqT8T6PmtjPbFtK0",Ie="FC5Y_KFJ9rJyTpydqtOW",we="AAYLcavkBdCuebn9AQxT",Se="lYHCmxpdReachiOORWGo",De="JtKEdtTtcK7s6EpGecaC",Fe="myHDa69cI5CHC8fhIhkG",Oe=(0,s.memo)((e=>{const{event:n,onClick:t}=e,a=(0,s.useCallback)((()=>t(n)),[n,t]),o=(0,V.CH)(n.openingDate),i=(0,V.CH)(n.closingDate),c=n.concerts[0].concert,r=c.artists[0];return(0,ue.jsxs)(J.o,{onClick:a,className:Ce,component:"div",role:"button",children:[r.imageUri&&(0,ue.jsx)(ke.Z,{children:(0,ue.jsx)("div",{role:"img",className:Fe,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${r.imageUri})`}})}),(0,ue.jsx)("time",{className:Ie,dateTime:o.toISOString(),children:(0,ue.jsx)(h.D,{as:"h5",variant:"mestoBold",children:(0,V.Bc)(o,i)})}),(0,ue.jsxs)("div",{className:we,dir:"auto",children:[(0,ue.jsx)(h.D,{as:"h2",variant:"cello",weight:"bold",className:Se,children:(0,Y.ij)(c)}),(0,ue.jsx)("div",{className:De,children:(0,ue.jsx)(h.D,{as:"h2",variant:"mesto","data-testid":"concerts-count",children:p.ag.get("concerts.count",n.concerts.length)})})]})]})})),Ue=(0,s.memo)((e=>{const{event:n,position:t,sectionSpec:a,onOpenGroupedEvent:o}=e,i=n.concerts[0]?.concert,c=i?.id,r=i&&(0,be.g3)(i.id).toURI(),l=(0,b.$P)(),d=(0,s.useMemo)((()=>a?.eventCardFactory({identifier:c??"",position:t,uri:r??""})),[a,c,r,t]),m=(0,b.Wi)(d),v=e=>{o(e),d&&l.logInteraction(d.hitUiReveal())};if(n.concerts.length>1)return(0,ue.jsx)("div",{ref:m,children:(0,ue.jsx)(Oe,{event:n,onClick:v})});return(0,ue.jsx)("div",{ref:m,children:(0,ue.jsx)(_e.Z,{concert:i,isVirtual:"online"===n.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:r}))}})})})),Ge=(0,s.memo)((e=>{const{title:n="",identifier:t,position:a,events:o,feedSpec:i,onOpenGroupedEvent:c}=e,r=(0,s.useMemo)((()=>i?.eventSectionFactory({identifier:t,position:a})),[i,t,a]),l=(0,b.Wi)(r);return 0===o.length?null:(0,ue.jsx)("div",{className:U,ref:l,children:(0,ue.jsx)(fe.ZP,{value:"headered-grid",index:a,children:(0,ue.jsx)(ye.P,{total:o.length,title:n,showAll:!0,children:o.map(((e,n)=>{const t=e.concerts[0]?.concert;return(0,ue.jsx)(Ue,{event:e,position:n,sectionSpec:r,onOpenGroupedEvent:c},t.id)}))})})})})),Le=(0,s.memo)((e=>{const{enableInterestedFeature:n=!1,isLoading:t,events:s,locationName:a,spec:o,onOpenGroupedEvent:i}=e;if(t)return(0,ue.jsx)(Ne.h,{hasError:!1,errorMessage:""});if(0===s.length)return(0,ue.jsx)(je.u,{title:p.ag.get("concerts.error.no_concerts_found_title"),message:p.ag.get("concerts.error.no_concerts_found_message",a),renderInline:!0});const c=(e=>{const n={popular:[],recommended:[],online:[]};return e.forEach((e=>{switch(e.source){case"recommendation":n.recommended.push(e);break;case"popular":n.popular.push(e);break;case"online":n.online.push(e)}})),n})(s);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(Ge,{title:p.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:0,events:c.online,onOpenGroupedEvent:i,feedSpec:o}),(0,ue.jsx)(Ge,{title:n?"":p.ag.get("concerts_recommended_for_you"),identifier:"recommended",position:1,events:c.recommended,onOpenGroupedEvent:i,feedSpec:o}),(0,ue.jsx)(Ge,{title:p.ag.get("concerts_popular_near_you"),identifier:"popular",position:2,events:c.popular,onOpenGroupedEvent:i,feedSpec:o})]})}));var He=t(49),Me=t(85345);const Ee=(0,s.memo)((e=>{const{enableInterestedFeature:n=!1,isAnonymous:t,geonameId:a,spec:o}=e,i=(0,c.s0)(),[r,l]=(0,s.useState)(),d=(0,Me.o)(),m=(0,s.useMemo)((()=>o.headerFactory()),[o]),{data:v,isLoading:h}=(e=>{const n=(0,k.useQueryClient)();return(0,k.useQuery)(["concerts",e],S,{staleTime:6e5,keepPreviousData:!0,onSuccess(t){if(e.geonameId||!t.userLocationGeonameId)return;const s=parseInt(t.userLocationGeonameId,10),a=["concerts",{...e,geonameId:s}];n.setQueryData(a,(()=>t))}})})({isAnonymous:t,geonameId:a}),u=v?.userLocation||p.ag.get("concerts.default_location");return(0,ue.jsxs)("div",{children:[(0,ue.jsx)(O.$,{children:`${p.ag.get("concerts_shows_in")} ${u}`}),(0,ue.jsx)("div",{className:U,"data-testid":"location-selector",children:(0,ue.jsx)(He.Z,{handleLocationChange:e=>{d({type:"click",intent:"change-live-events-location"}),e?.geonameId&&i(((e,n)=>{if(!e)return"/concerts";const t=n?.normalize().replaceAll(/\W+/g,"-");return t?`/concerts/location/${e}-${t}`:`/concerts/location/${e}`})(e.geonameId,e.location))},locationStr:u,headerSpec:m})}),(0,ue.jsx)(Le,{enableInterestedFeature:n,isLoading:h,events:v?.events||[],locationName:u,spec:o,onOpenGroupedEvent:e=>{l(e);const n=e.concerts[0]?.concert.artistUris[0];d({type:"click",intent:"open-grouped-live-event",targetUri:n})}}),(0,ue.jsx)(pe,{event:r,locationName:u,feedSpec:o,onClose:()=>l(void 0)})]})}));var Te=t(23362);const Ae=(0,s.memo)((e=>{const{isAnonymous:n,spec:t}=e,s=(e=>(0,k.useQuery)("savedConcerts",w,{enabled:!e,keepPreviousData:!1}))(n);return(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(O.$,{children:`${p.ag.get("live_events.label")}`}),s.data?.events.length?(0,ue.jsx)(ue.Fragment,{children:(0,ue.jsx)(Ge,{title:p.ag.get("concerts_upcoming"),identifier:"saved",position:0,events:s.data?.events,feedSpec:t,onOpenGroupedEvent:()=>{}})}):(0,ue.jsxs)("div",{className:A,children:[(0,ue.jsx)(h.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:R,children:p.ag.get("concerts_interested_in_live_events")}),(0,ue.jsx)(h.D,{as:"p",className:P,children:p.ag.get("concerts_no_events_description")}),(0,ue.jsx)(Q.default,{to:"/concerts",className:W,children:(0,ue.jsx)(Te.P,{as:"span",className:B,children:p.ag.get("concerts_browse_more_events")})})]})]})})),We=l.vI0,Be={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720},Re=()=>{const{isAnonymous:e}=(0,i.v9)(f.Gg),n=(0,c.TH)(),t=n.pathname+n.search,a=(0,b.$P)(),l=(0,u.W6)(_.tp),{spec:k}=(0,b.fU)(g.y,{}),C=F(e,l),I=(0,s.useMemo)((()=>k.headerFactory().liveEventsNavbarFactory({uri:t,reason:C.type})),[k,C,t]),w=(0,b.Wi)(I),S=(e,n)=>{const t=k.headerFactory().liveEventsNavbarFactory({uri:e,reason:n}).hitUiNavigate({destination:e});a.logInteraction(t)};return(0,ue.jsxs)("section",{className:G,children:[(0,ue.jsxs)(j.gF,{size:j.fR.SMALL,backgroundColor:We,backgroundImages:[Be],children:[(0,ue.jsx)(j.sP,{children:(0,ue.jsx)(j.xd,{children:p.ag.get("live_events.label")})}),(0,ue.jsx)(N.W,{children:(0,ue.jsx)(y.i,{text:p.ag.get("live_events.label")})})]}),(0,ue.jsxs)("div",{className:L,children:[(0,ue.jsx)(x.I,{backgroundColor:We}),!e&&l&&(0,ue.jsx)("div",{className:M,ref:w,children:(0,ue.jsx)(d.l,{list:(0,ue.jsx)("nav",{"aria-label":"live events navbar",children:(0,ue.jsxs)(m.F,{children:[(0,ue.jsx)(v.c,{id:"recommended_for_you_link",label:p.ag.get("concerts_recommended_for_you"),active:"recommended"===C.type,className:o()(T,{[E]:"recommended"===C.type}),component:r.rU,to:"/concerts",onClick:()=>S("/concerts","recommended"),sentenceCase:!0},0),(0,ue.jsx)(v.c,{id:"concerts_interested_link",label:p.ag.get("concerts_interested"),active:"saved"===C.type,className:o()(T,{[E]:"saved"===C.type}),component:r.rU,to:"/concerts?filter=saved",onClick:()=>S("/concerts?filter=saved","saved"),sentenceCase:!0},1)]})})})}),(0,ue.jsxs)("div",{className:H,children:["recommended"===C.type&&(0,ue.jsx)(Ee,{isAnonymous:e,geonameId:C.geonameId,spec:k,enableInterestedFeature:l}),"saved"===C.type&&(0,ue.jsx)(Ae,{isAnonymous:e,spec:k}),(0,ue.jsx)(h.D,{variant:"finale",semanticColor:"textSubdued",children:p.ag.get("live_events.disclaimer")})]})]})]})}},61873:(e,n,t)=>{t.d(n,{e:()=>h});var s=t(80701);const a="(min-width: 0px)",o="(min-width: 0px) and (max-width: 767px)",i="(min-width: 768px)",c="(min-width: 768px) and (max-width: 1023px)",r="(min-width: 1024px)",l="(min-width: 1024px) and (max-width: 1279px)",d="(min-width: 1280px)",m="(min-width: 1280px) and (max-width: 1919px)",v="(min-width: 1920px)",h=()=>({isXS:(0,s.a)(a),isXSOnly:(0,s.a)(o),isSM:(0,s.a)(i),isSMOnly:(0,s.a)(c),isMD:(0,s.a)(r),isMDOnly:(0,s.a)(l),isLG:(0,s.a)(d),isLGOnly:(0,s.a)(m),isXL:(0,s.a)(v)})}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map