"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[1289],{70369:(e,t,a)=>{a.d(t,{$:()=>r.$});var r=a(22578)},30731:(e,t,a)=>{a.d(t,{u:()=>h});var r=a(67294),i=a(94184),l=a.n(i),n=a(32667),s=a(34011),o=a(6330),c=a(40771);const A="FvfvGU3jvHRskUU9v9_8",d="Q9AlbZn2EGzy3MTWXa8X",u="mxmxS0y8LiwSs5nueKPT",E="GXxVAveNFStY3pBI_NO4",g="eHcXC2s97InYP7rMNT0H";var T=a(85893);const h=(0,r.memo)((function(e){const{children:t,message:a,title:r,linkTitle:i,linkTo:h,onClick:C,renderInline:m=!1}=e,{isXSOnly:p,isSMOnly:D}=(0,o.e)(),L=p||D;return(0,T.jsxs)("section",{className:l()(A,{[d]:m}),children:[t,(0,T.jsx)(n.D,{as:"h1",variant:L?"cello":"alto",className:E,children:r}),(0,T.jsx)(n.D,{variant:L?"mesto":"ballad",className:g,children:a}),i&&(h||C)&&(0,T.jsx)(s.D,{colorSet:"invertedLight",className:u,href:h,onClick:C,component:c.Z,children:i})]})}))},76119:(e,t,a)=>{a.d(t,{A:()=>C});var r=a(34142),i=a(47921),l=a(32667),n=a(20246),s=a(71379),o=a(78267),c=a(30005),A=a(36652),d=a(21691),u=a(13153),E=a(85893);const g=({heading:e,selected:t,onSelect:a,options:r,sortOrder:i})=>{let l;i&&(i===u.kn.ASC||i===u.kn.SECONDARY_ASC?l=s.C:i!==u.kn.DESC&&i!==u.kn.SECONDARY_DESC||(l=o.B));return(0,E.jsxs)(c.v,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[e?(0,E.jsx)(A.F,{children:e}):null,r.map((({key:e,value:r})=>(0,E.jsx)(d.s,{role:"menuitemradio","aria-checked":e===t.key,CheckedIcon:l,onClick:()=>a(e),children:r},e)))]})},T="x-sortBox-sortDropdown";const h=({isOpen:e})=>e?(0,E.jsx)(r.U,{iconSize:16,"aria-hidden":"true"}):(0,E.jsx)(i.i,{iconSize:16,"aria-hidden":"true"}),C=({heading:e,options:t,selected:a,onSelect:r,sortOrder:i,variant:s="mesto",semanticColor:o,disabled:c,onClick:A})=>{const[d]=t;return a||(a=d),(0,E.jsx)(n.y,{menu:(0,E.jsx)(g,{selected:a,options:t,onSelect:r,sortOrder:i,heading:e}),children:(e,t,r)=>(0,E.jsxs)("button",{className:T,onClick:e=>{c||(A?.(e),t(e))},ref:r,type:"button",children:[(0,E.jsx)(l.D,{semanticColor:o,variant:s,children:a.value}),(0,E.jsx)(h,{isOpen:e})]})})}},1834:(e,t,a)=>{a.d(t,{$:()=>o,Q:()=>s});var r=a(67294),i=a(22583),l=a(97641),n=a(85893);const s=(0,r.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:l.oT.ADDED_AT}),o=r.memo((function({uri:e,children:t,defaultSortOption:a}){return(0,n.jsx)(i.r,{uri:e,defaultState:a,sortContext:s,children:t})}))},97641:(e,t,a)=>{a.d(t,{Aq:()=>d,Bf:()=>f,EY:()=>C,G5:()=>D,JV:()=>O,MY:()=>o,Ru:()=>c,ZP:()=>m,a6:()=>T,aY:()=>x,e3:()=>g,ei:()=>s,o$:()=>u,oT:()=>n,pT:()=>_,rJ:()=>P,u3:()=>S,w0:()=>L});var r=a(96206),i=a(74483),l=a(9659);let n;!function(e){e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER"}(n||(n={}));const s={"show-alphabetical":n.SHOW_ALPHABETICAL,"book-alphabetical":n.BOOK_ALPHABETICAL,"episode-alphabetical":n.EPISODE_ALPHABETICAL,"playlist-alphabetical":n.PLAYLIST_ALPHABETICAL,"album-alphabetical":n.ALBUM_ALPHABETICAL,"recently-added":n.ADDED_AT,"creator-name":n.CREATOR_NAME,"creator-name-alphabetical":n.CREATOR_NAME_ALPHABETICAL,"album-creator-name":n.ALBUM_CREATOR_NAME,"recently-played":n.RECENTLY_PLAYED,"playlist-most-relevant":n.MOST_RELEVANT,"playlist-custom-order":n.CUSTOM_ORDER},o={[n.RECENTLY_PLAYED]:{key:"recently-played",get value(){return r.ag.get("collection.sort.recently-played")}},[n.ADDED_AT]:{key:"recently-added",get value(){return r.ag.get("collection.sort.recently-added")}},[n.SHOW_ALPHABETICAL]:{key:"show-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.BOOK_ALPHABETICAL]:{key:"book-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.EPISODE_ALPHABETICAL]:{key:"episode-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.PLAYLIST_ALPHABETICAL]:{key:"playlist-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.ALBUM_CREATOR_NAME]:{key:"album-creator-name",get value(){return r.ag.get("collection.sort.creator")}},[n.CREATOR_NAME]:{key:"creator-name",get value(){return r.ag.get("collection.sort.creator")}},[n.CREATOR_NAME_ALPHABETICAL]:{key:"creator-name-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.ALBUM_ALPHABETICAL]:{key:"album-alphabetical",get value(){return r.ag.get("collection.sort.alphabetical")}},[n.MOST_RELEVANT]:{key:"playlist-most-relevant",get value(){return r.ag.get("collection.sort.most-relevant")}},[n.CUSTOM_ORDER]:{key:"playlist-custom-order",get value(){return r.ag.get("collection.sort.custom-order")}}},c=[n.ADDED_AT,n.ALBUM_ALPHABETICAL,n.CREATOR_NAME],A={[n.ADDED_AT]:{field:i.lY.ADDED_AT,order:i.As.DESC},[n.ALBUM_ALPHABETICAL]:{field:i.lY.NAME,order:i.As.ASC},[n.CREATOR_NAME]:{field:i.lY.ARTIST_NAME,order:i.As.ASC}},d=e=>{if(c.includes(e))return A[e]},u=[n.ADDED_AT,n.CREATOR_NAME_ALPHABETICAL],E={[n.ADDED_AT]:{field:i.hx.ADDED_AT,order:i.As.DESC},[n.CREATOR_NAME_ALPHABETICAL]:{field:i.hx.NAME,order:i.As.ASC}},g=e=>{if(u.includes(e))return E[e]},T=[n.ADDED_AT,n.SHOW_ALPHABETICAL],h={[n.ADDED_AT]:{field:i.hx.ADDED_AT,order:i.As.DESC},[n.SHOW_ALPHABETICAL]:{field:i.aW.NAME,order:i.As.ASC}},C=e=>{if(T.includes(e))return h[e]},m=[n.ADDED_AT,n.BOOK_ALPHABETICAL],p={[n.ADDED_AT]:i.VN.ADDED_AT,[n.BOOK_ALPHABETICAL]:i.VN.NAME},D=e=>{if(m.includes(e))return p[e]},L=[n.MOST_RELEVANT,n.RECENTLY_PLAYED,n.ADDED_AT,n.PLAYLIST_ALPHABETICAL,n.CUSTOM_ORDER],y={[n.ADDED_AT]:{field:l.bD.ADDED_AT,order:l.As.DESC},[n.RECENTLY_PLAYED]:{field:l.bD.RECENTLY_PLAYED,order:l.As.ASC},[n.PLAYLIST_ALPHABETICAL]:{field:l.bD.NAME,order:l.As.ASC},[n.MOST_RELEVANT]:{field:l.bD.RELEVANCE,order:l.As.DESC},[n.CUSTOM_ORDER]:void 0},_=e=>{if(L.includes(e))return y[e]},x=n.ADDED_AT,S=n.ADDED_AT,P=n.ADDED_AT,f=n.MOST_RELEVANT,O=n.ADDED_AT},64971:(e,t,a)=>{a.d(t,{h:()=>E});var r=a(67294),i=a(98816),l=a(98562),n=a(15852),s=a(76119),o=a(1834),c=a(97641),A=a(85893);const d=r.memo((function({sortOptions:e,onSort:t}){const{sortState:a,setSortState:i}=(0,r.useContext)(o.Q),l=(0,r.useCallback)((e=>{const a=c.ei[e];t?.(a),i(a)}),[t,i]),n=e.map((e=>c.MY[e])),d=c.MY[a];return(0,A.jsx)(s.A,{options:n,onSelect:l,selected:d})})),u="collection-searchBar-searchBar",E=r.memo((function({canSort:e,canFilter:t,filterPlaceholder:a,sortOptions:s}){const{spec:o,logger:c}=(0,n.fU)(i.createDesktopSearchBarEventFactory,{}),E=(0,r.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().keyStrokeFilter())}),[c,o]),g=(0,r.useCallback)((()=>{c.logInteraction(o.filterFieldFactory().hitClearFilter())}),[c,o]),T=(0,r.useCallback)((()=>{c.logInteraction(o.sortButtonFactory().hitSort())}),[c,o]);return(0,A.jsxs)("div",{className:u,children:[t?(0,A.jsx)(r.Suspense,{fallback:null,children:(0,A.jsx)(l.K,{placeholder:a,onFilter:E,onClear:g})}):null,e?(0,A.jsx)(d,{sortOptions:s,onSort:T}):null]})}))},47032:(e,t,a)=>{a.d(t,{$:()=>r.$,Q:()=>r.Q});var r=a(1834)},38911:(e,t,a)=>{a.d(t,{Aq:()=>r.Aq,Bf:()=>r.Bf,EY:()=>r.EY,G5:()=>r.G5,JV:()=>r.JV,Ru:()=>r.Ru,ZP:()=>r.ZP,a6:()=>r.a6,aY:()=>r.aY,e3:()=>r.e3,o$:()=>r.o$,oT:()=>r.oT,pT:()=>r.pT,rJ:()=>r.rJ,u3:()=>r.u3,w0:()=>r.w0});var r=a(97641)},61112:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var r=a(67294),i=a(6695),l=a(96206),n=a(30731),s=a(6158),o=a(1838),c=a(22423),A=a(47032),d=a(38911),u=a(4236),E=a(61901),g=a(45342),T=a(84242),h=a(89952),C=a(70369),m=a(23609),p=a(18270),D=a(55120),L=a(64971),y=a(4383),_=a(74483);const x={[_.yW.NAME]:o.hI.TITLE,[_.yW.SHOW_NAME]:o.hI.SHOW,[_.yW.ADDED_AT]:o.hI.ADDED_AT},S=[d.oT.ADDED_AT,d.oT.CREATOR_NAME,d.oT.EPISODE_ALPHABETICAL],P={[d.oT.ADDED_AT]:{field:_.yW.ADDED_AT,order:_.As.DESC},[d.oT.CREATOR_NAME]:{field:_.yW.SHOW_NAME,order:_.As.ASC},[d.oT.EPISODE_ALPHABETICAL]:{field:_.yW.NAME,order:_.As.ASC}},f=e=>{if(S.includes(e))return P[e]},O=e=>{if(!S.includes(e))return;const t=f(e);if(!t?.field)return;const a=x[t.field];if(!a)return;return o.Vd[a].map((e=>t.order?`${e} ${t.order}`:e)).join(",")},b="m9xwK71Ieq9cySIq4FAP",I="PkEMTu8sGqJeQWJ7HvEs",R="DbH2KkRA8yVWWpXGaNSW";var k=a(85893);const N=({metadata:e,canSort:t,backgroundColor:a,isPlaying:r,isOnline:i,togglePlay:n})=>{const s=(0,y.y)(),{uri:o,name:c}=e,A=e.totalLength>0;return(0,k.jsx)(p.o,{backgroundColor:a,children:(0,k.jsxs)(p.F,{children:[A&&(0,k.jsx)(D.$,{onClick:()=>n(),isPlaying:r,size:"lg",uri:o,disabled:!i,ariaPlayLabel:l.ag.get("playlist.a11y.play",c),ariaPauseLabel:l.ag.get("playlist.a11y.pause",c)}),t&&(0,k.jsx)("div",{className:R,children:(0,k.jsx)(L.h,{canSort:s.getCapabilities().canSort,canFilter:s.getCapabilities().canFilter,filterPlaceholder:l.ag.get("playlist.search_in_playlist"),sortOptions:S})})]})})};var M=a(70937),j=a(42922),v=a(18864),B=a(25988),H=a(91753),w=a(88435),U=a(56294),Y=a(57784),W=a(26492),F=a(18261),$=a(87257),V=a(57978),G=a(8341),K=a(5944),X=a(42781),q=a(84788),z=a(67062),J=a(43028);const Q={small:64,standard:300,large:640,xlarge:1024},Z=r.memo((function({index:e,contextUri:t,episode:a,onRemove:i,usePlayContextItem:l}){const n=(0,r.useRef)(a.duration.milliseconds-a.timeLeft.milliseconds),s=a.uri,[o,A]=(0,r.useState)(0===a.timeLeft.milliseconds),{filter:d}=(0,r.useContext)(c.fo),E=(0,Y.O1)(),g=(0,v.jh)(),h=(0,W.o)(),[C]=(0,y.Z)(s,!0),m=(0,J.k)(a.uri,a.isPlayable),p=(0,u.k)(),D=(0,G.Y)((e=>{if(e?.item?.uri===a.uri){const t=(0,K.k)(e)??0;return n.current=t,t}return 0})),{isPlaying:L,isActive:_,togglePlay:x}=l({uri:s,index:e}),{isPlaying:S,isActive:P,togglePlay:f}=(0,T.n)({uri:s,pages:[{items:[{type:X.p.EPISODE,uri:s,uid:null,provider:null}]}]},{featureIdentifier:"your_library",referrerIdentifier:"your_library"});(0,r.useEffect)((()=>{C||i()}),[C,i]),(0,r.useEffect)((()=>{L||a.duration.milliseconds<=n.current&&A(!0)}),[L,a.duration.milliseconds]);const O=(0,r.useCallback)((e=>{e||(n.current=0),A(e)}),[]),b=(0,r.useCallback)((()=>{h({type:"click",targetUri:s,intent:"navigate"})}),[s,h]),I=(0,r.useCallback)((()=>{p?(h({type:"click",intent:L?"pause":"play"}),x()):(h({type:"click",intent:S?"pause":"play"}),f())}),[p,L,S,h,x,f]),R=(0,r.useCallback)((e=>(0,k.jsx)(z.o,{searchWords:[d],textToHighlight:e})),[d]),N=a.podcastSubscription?.isPaywalled??!1,M=a.podcastSubscription?.isUserSubscribed??!1,{badges:Z}=(0,q.r)({isExplicit:a.isExplicit,isMOGEFRestricted:a.is19PlusOnly,isPaywalled:N});let ee=!1;return(_||!p&&P)&&(ee=!0),C?(0,k.jsx)(j.ZP,{value:"row",index:e,children:(0,k.jsx)(F._,{menu:(0,k.jsx)(B.k,{uri:s,showUri:a.show.uri,isPlayed:o,onMarkAsPlayed:O}),children:(0,k.jsx)(H.X,{requestId:a.requestId,index:e,uri:s,uid:s,size:g,images:a.images.map((e=>({url:e.url,width:e.width||(e.label?Q[e.label]:null),height:e.height||(e.label?Q[e.label]:null)}))),isPaywalled:N,isUserSubscribed:M,name:a.name,highlightText:R,showName:a.show.name,showUri:a.show.uri,description:a.description,isPlayable:m,fullyPlayed:o,durationMs:a.duration.milliseconds,releaseDate:a.release.date||"",resumePositionMs:n.current,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const r=`${a.name} â€¢ ${a.show.name}`;E(e,[s],r,t)},handlePlaybackClick:I,handleClick:b,isCurrentlyPlaying:ee,isPlaying:p?L:S,position:ee?D:void 0,episodeSharingInfo:null,onMarkAsPlayed:O,badges:(0,k.jsxs)(k.Fragment,{children:[Z.explicit&&(0,k.jsx)($.N,{}),Z.paid&&(0,k.jsx)(U.g,{}),Z.nineteen&&(0,k.jsx)(V.X,{size:16})]}),playButtonWrapper:e=>(0,k.jsx)(w.l,{enabled:N&&!M,showUri:a.show.uri,children:e})})})}):null})),ee="p6DKqBcwmVtxmHt8ju43",te="_OxEpxzAgJiTENfolVUN",ae=r.memo((function({contextUri:e,usePlayContextItem:t}){const a=(0,r.useContext)(g.H),{sortState:i}=(0,r.useContext)(A.Q),[l,n]=(0,r.useState)({totalLength:0,unfilteredTotalLength:0,offset:0,items:[],limit:50}),s=(0,r.useRef)(!1),o=(0,r.useRef)(0),d=(0,r.useRef)(0),{filter:u}=(0,r.useContext)(c.fo),E=(0,r.useCallback)((()=>{d.current++}),[]),{ref:T,breakpoint:h}=(0,v.Db)({[v.Uo.MEDIUM]:0,[v.Uo.LARGE]:600}),C=(0,r.useCallback)(((e=!1)=>{const t=o.current;null!==t&&(s.current||(s.current=!0,(async e=>{const t=await a.getEpisodes({offset:e-d.current,limit:50,sort:f(i),filter:u});return d.current=0,t})(Number(t)).then((a=>{n((r=>{const i=Number(a.offset)+a.items.length,l=e?[]:[...r.items];return l.splice(Number(t),a.items.length,...a.items),o.current=i<a.totalLength?i:null,{...a,items:l}})),s.current=!1}))))}),[u,a,i]);return(0,r.useEffect)((()=>{o.current=0,C(!0)}),[C]),(0,k.jsx)(v.ZU.Provider,{value:h,children:(0,k.jsx)(j.ZP,{value:"track-list",children:(0,k.jsx)("div",{ref:T,children:(0,k.jsx)(M.C,{onReachBottom:C,triggerOnInitialLoad:!0,children:l.items.map(((a,r)=>(0,k.jsxs)("div",{className:te,children:[(0,k.jsx)("hr",{className:ee,"aria-hidden":!0}),(0,k.jsx)(Z,{index:r,episode:a,contextUri:e,onRemove:E,usePlayContextItem:t},`${a.uri}/${r}`)]},`${r}${a.uri}`)))})})})})}));var re=a(60289),ie=a(59482),le=a(72907),ne=a(37761),se=a(83209);const oe=({metadata:e,backgroundColor:t,isPlaying:a,isOnline:i,togglePlay:n})=>{const{uri:s,name:o,images:c,totalLength:A,owner:d}=e,u=(0,r.useMemo)((()=>({id:d.username,uri:d.uri,name:d.username,displayName:d.displayName||void 0,images:d.images||[]})),[d]);return(0,k.jsxs)(re.gF,{backgroundColor:t,children:[(0,k.jsxs)(ie.W,{children:[(0,k.jsx)(D.$,{size:"md",onClick:()=>n(),isPlaying:a,uri:s,disabled:!i,ariaPlayLabel:l.ag.get("playlist.a11y.play",o),ariaPauseLabel:l.ag.get("playlist.a11y.pause",o)}),(0,k.jsx)(le.i,{text:o})]}),(0,k.jsx)(re.Oz,{images:c,name:o,shape:ne.K.ROUNDED_CORNERS,renderImage:()=>(0,k.jsx)(se.$,{})}),(0,k.jsxs)(re.sP,{children:[(0,k.jsx)(re.dy,{small:!0,uppercase:!0,children:l.ag.get("playlist")}),(0,k.jsx)(re.xd,{canEdit:!1,onClick:()=>{},children:o}),(0,k.jsx)(re.QS,{creators:[u],totalEpisodes:A})]})]})},ce=({metadata:e,canSort:t})=>{const a=(0,E.Y5)("#006450"),s=(0,u.k)(),{sortState:d}=(0,r.useContext)(A.Q),{filter:g}=(0,r.useContext)(c.fo),{isPlaying:m,togglePlay:p,usePlayContextItem:D}=(0,T.n)({uri:e.uri,metadata:{[h.sb.SORTING_CRITERIA]:O(d),[h.sb.FILTERING_PREDICATE]:(0,o.aK)(g)}},{featureIdentifier:"your_library",referrerIdentifier:"your_library"});return(0,k.jsxs)("section",{className:I,"data-testid":"your-episodes-page",children:[(0,k.jsx)(C.$,{children:l.ag.get("sidebar.your_episodes")}),(0,k.jsx)(oe,{metadata:e,backgroundColor:a,isPlaying:m,isOnline:s,togglePlay:p}),(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)(N,{metadata:e,backgroundColor:a,isPlaying:m,isOnline:s,togglePlay:p,canSort:t}),(0,k.jsx)("div",{className:"contentSpacing",children:e.totalLength>0?(0,k.jsx)(ae,{contextUri:e.uri,usePlayContextItem:D}):(0,k.jsx)(n.u,{message:l.ag.get("collection.empty-page.episodes-subtitle"),title:l.ag.get("collection.empty-page.episodes-title"),linkTo:"/genre/podcasts-web",linkTitle:l.ag.get("collection.empty-page.shows-cta"),renderInline:!0,children:(0,k.jsx)(i.G,{"aria-hidden":"true"})})})]})]})},Ae=(0,r.memo)((function(){const e=(0,r.useContext)(g.H).getCapabilities(),t=(0,m.x)();return t?(0,k.jsx)(A.$,{uri:t.uri,defaultSortOption:d.oT.ADDED_AT,children:(0,k.jsx)(c.hz,{uri:t.uri,children:(0,k.jsx)(ce,{metadata:t,canSort:e.canSortTracksAndEpisodes&&t.totalLength>0})})}):(0,k.jsx)(s.h,{hasError:!1,errorMessage:l.ag.get("error.not_found.title.page"),loadOffline:e.canModifyOffline})}))},6330:(e,t,a)=>{a.d(t,{e:()=>E});var r=a(62142);const i="(min-width: 0px)",l="(min-width: 0px) and (max-width: 767px)",n="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",A="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",u="(min-width: 1920px)",E=()=>({isXS:(0,r.a)(i),isXSOnly:(0,r.a)(l),isSM:(0,r.a)(n),isSMOnly:(0,r.a)(s),isMD:(0,r.a)(o),isMDOnly:(0,r.a)(c),isLG:(0,r.a)(A),isLGOnly:(0,r.a)(d),isXL:(0,r.a)(u)})}}]);
//# sourceMappingURL=xpui-routes-collection-episodes.js.map