"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8785],{22578:(e,r,s)=>{s.d(r,{$:()=>m});var i=s(64593),t=s(96206),a=s(69691),n=s(8341),c=s(89952),o=s(67294),l=s(51615),u=s(24183);var d=s(85893);function h(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const m=({children:e,usePlayingItem:r})=>{let s=h(e);(e=>{const{mainLandmarkRef:r}=(0,u.Oh)(),s=(0,l.k6)(),i=s.location?.state?.preventMoveFocus,t=(0,o.useRef)(s.length<2);t.current=s.length<2,(0,o.useEffect)((()=>{const s=r.current;!i&&!t.current&&s&&e&&(s.setAttribute("aria-label",e),s.focus())}),[e,r,i])})(e);const{isPlaying:m}=(0,a.IK)(),g=(0,n.Y)((e=>e?.item));return g&&(m||r)&&((0,c.G_)(g)?s=[g.name,g.artists.map((e=>e.name)).join(t.ag.getSeparator())].join(" • "):(0,c.iw)(g)?s=[g.name,g.show.name].join(" • "):(0,c.k6)(g)&&(s=h(t.ag.get("ad-formats.advertisement")))),(0,d.jsx)(i.q,{defaultTitle:"Spotify",defer:!1,children:(0,d.jsx)("title",{children:s})})}},70369:(e,r,s)=>{s.d(r,{$:()=>i.$});var i=s(22578)},95902:(e,r,s)=>{s.d(r,{h:()=>p});var i=s(3634),t=s(89477),a=s(51216),n=s(54543),c=s(61864),o=s(63495),l=s(46309),u=s(30523),d=s(95332),h=s(97891),m=s(42781),g=s(85893);const p=({entity:e,index:r,testId:s,onClick:p,isHero:x=!1})=>{switch(e.type){case m.p.ALBUM:return(0,g.jsx)(i.r,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case m.p.ARTIST:return(0,g.jsx)(t.I,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case m.p.AUDIOBOOK:return(0,g.jsx)(a.c,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId,color:e.color},e.uri);case m.p.EPISODE:return(0,g.jsx)(c.B,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case m.p.GENRE:return(0,g.jsx)(o.s,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case m.p.PLAYLIST:return(0,g.jsx)(l.Z,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId,color:e.color},e.uri);case m.p.USER:return(0,g.jsx)(u.P,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case m.p.SHOW:return(0,g.jsx)(d._,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case m.p.TRACK:return(0,g.jsx)(h.G,{testId:s,onClick:p,isHero:x,index:r,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,color:e.color},e.uri);default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),(0,g.jsx)(n.q,{testId:s,onClick:p,isHero:x,index:r,entity:e})}}},25028:(e,r,s)=>{s.d(r,{q:()=>u});var i=s(39714),t=s(96206),a=s(95902);const n="x-searchHistoryEntries-searchHistoryEntry",c="x-searchHistoryEntries-clearSingleSearchHistory",o="x-searchHistoryEntries-clearSingleSearchHistoryButton";var l=s(85893);const u=({entity:e,index:r,clearSearchHistory:s})=>(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)(a.h,{entity:{...e,requestId:void 0},index:r}),(0,l.jsx)("div",{className:c,children:(0,l.jsx)("button",{className:o,onClick:()=>s(e.uri),"aria-label":t.ag.get("remove"),children:(0,l.jsx)(i.k,{iconSize:16})})})]},e.uri)},96773:(e,r,s)=>{s.r(r),s.d(r,{default:()=>C});var i=s(94184),t=s.n(i),a=s(87577),n=s(96206),c=(s(57658),s(67294)),o=s(51615),l=s(32667),u=s(43675),d=s(25028),h=s(42922),m=s(15852),g=s(19480),p=s(16375);const x="Ul_eSpTV7OKDhvXcgfzw",I="HFNTjI36ujrPacyLOwTT";var y=s(85893);const f=()=>{const{searchHistory:e,clearSearchHistory:r}=(0,p.u)(),s=(0,o.k6)(),{spec:i,logger:t,UBIFragment:a}=(0,m.fU)(u.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),f=(0,c.useMemo)((()=>i.recentSearchesCardsFactory()),[i]),j=(0,c.useCallback)((()=>{const e=i.clearButtonFactory().hitClearRecentSearches();t.logInteraction(e),r(),s.push("/search")}),[r,s,t,i]),k=(0,c.useCallback)((i=>{const t=e.length;r(i),1===t&&s.push("/search")}),[r,s,e.length]);return 0===e.length?null:(0,y.jsxs)("div",{className:x,children:[(0,y.jsx)(a,{spec:f,children:(0,y.jsx)(g.P,{title:n.ag.get("search.title.recent-searches"),showAll:!0,children:e.map(((e,r)=>(0,y.jsx)(h.ZP,{index:r,value:"search-history",children:(0,y.jsx)(d.q,{clearSearchHistory:k,entity:e,index:r})},e.uri)))})}),(0,y.jsx)("button",{onClick:j,className:I,children:(0,y.jsx)(l.D,{variant:"minuetBold",children:n.ag.get("search.clear-recent-searches")})})]})};var j=s(49207),k=s(70369),q=s(5142);const v=()=>{const e=(0,a.W6)(j.Dz);return(0,y.jsxs)(h.ZP,{value:"search-page",children:[(0,y.jsx)(k.$,{children:n.ag.get("search.page-title")}),(0,y.jsx)("div",{className:t()("contentSpacing",{[q.Z.narrowPage]:e}),id:"searchPage",children:(0,y.jsx)(f,{})})]})},C=v},5142:(e,r,s)=>{s.d(r,{Z:()=>i});const i={searchPageGrid:"search-recentSearches-searchPageGrid",narrowPage:"search-recentSearches-narrowPage"}}}]);
//# sourceMappingURL=xpui-routes-recent-searches.js.map